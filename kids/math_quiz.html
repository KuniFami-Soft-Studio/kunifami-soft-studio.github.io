<!DOCTYPE html>
<html lang="ja">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1V1ELMWFTY"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-1V1ELMWFTY');
    </script>
    
    <meta name="ad-mode" content="kids">
    <script src="/js/ads.js" defer></script>
    
    <meta charset="UTF-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <title>è„³ãƒˆãƒ¬è¨ˆç®—ãƒ‰ãƒªãƒ« / Math Brain Training - ã‚·ãƒ‹ã‚¢å‘ã‘ç„¡æ–™ã‚¢ãƒ—ãƒª / Free for Seniors</title>
    <meta name="description" content="[JP] ã‚·ãƒ‹ã‚¢ãƒ»å¤§äººå‘ã‘ï¼é›£æ˜“åº¦ãŒé¸ã¹ã‚‹ç„¡æ–™ã®è„³ãƒˆãƒ¬è¨ˆç®—ãƒ‰ãƒªãƒ«ã€‚è¶³ã—ç®—ã€å¼•ãç®—ã€æ›ã‘ç®—ã§è„³ã‚’æ´»æ€§åŒ–ã€‚[EN] Free math brain training for seniors. Select difficulty levels and keep your brain active.">
    <meta name="keywords" content="è„³ãƒˆãƒ¬,è¨ˆç®—ãƒ‰ãƒªãƒ«,ã‚·ãƒ‹ã‚¢,ãƒœã‚±é˜²æ­¢,ç„¡æ–™,è¶³ã—ç®—,å¼•ãç®—,æ›ã‘ç®—,Brain Training,Math for Seniors">
    <meta name="author" content="kunifami" >
    <meta name="robots" content="index, follow">

    <meta property="og:title" content="è„³ãƒˆãƒ¬è¨ˆç®—ãƒ‰ãƒªãƒ« / Math Brain Training">
    <meta property="og:description" content="æ¯æ—¥3åˆ†ï¼è¨ˆç®—ã§è„³ã‚’æ´»æ€§åŒ–ã—ã¾ã—ã‚‡ã†ã€‚ / Stimulate your brain with math in 3 minutes daily.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://kunifami-soft-studio.com/kids/math_fun.html">
    <meta name="twitter:card" content="summary">

    <style>
        :root { --main-color: #3F51B5; --accent-color: #FF4081; --bg-color: #F5F5F5; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; user-select: none; }
        body { 
            margin: 0; padding: 0; background-color: var(--bg-color); 
            font-family: 'Hiragino Kaku Gothic ProN', sans-serif; 
            color: #333; display: flex; flex-direction: column; align-items: center; 
            min-height: 100vh; overflow-y: auto;
        }
        .container { width: 92%; max-width: 480px; margin: 15px auto; text-align: center; }
        .screen { width: 100%; display: flex; flex-direction: column; align-items: center; }
        .hidden { display: none !important; }

        .title-box {
            background: white; padding: 30px 20px; border-radius: 20px; 
            box-shadow: 0 4px 10px rgba(0,0,0,0.1); margin-bottom: 25px; width: 100%;
        }
        h1 { margin: 0; font-size: 1.8rem; color: var(--main-color); }
        .sub-title { font-size: 1rem; color: #666; margin-top: 5px; }

        .btn-level {
            width: 100%; padding: 20px; margin-bottom: 15px; border-radius: 15px;
            border: none; color: white; font-size: 1.2rem; font-weight: bold; cursor: pointer;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1); transition: transform 0.1s;
            display: flex; flex-direction: column; align-items: center;
        }
        .btn-level span { font-size: 0.9rem; font-weight: normal; opacity: 0.9; margin-top: 2px; }
        .btn-level:active { transform: scale(0.98); }
        .lvl-easy { background: #4CAF50; }
        .lvl-normal { background: #2196F3; }
        .lvl-hard { background: #FF5722; }

        .math-card {
            background: white; border-radius: 20px; padding: 30px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.1); width: 100%; margin-bottom: 20px;
            min-height: 250px; display: flex; flex-direction: column; justify-content: center;
        }
        .formula { font-size: 4rem; font-weight: bold; margin: 20px 0; color: #333; }
        
        .visual-hint { display: flex; justify-content: center; gap: 6px; margin-bottom: 20px; flex-wrap: wrap; min-height: 20px; }
        .hint-dot { width: 12px; height: 12px; background: var(--accent-color); border-radius: 50%; opacity: 0.7; }

        .answer-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; width: 100%; }
        .ans-btn {
            background: #FFF; border: 2px solid #ddd; border-radius: 15px;
            padding: 20px; font-size: 2.2rem; font-weight: bold; color: #333;
            cursor: pointer; box-shadow: 0 4px 0 #ccc; transition: 0.1s;
        }
        .ans-btn:active { transform: translateY(4px); box-shadow: none; background: #f0f0f0; }

        /* --- ã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ã‚ªãƒ³ãƒ»ã‚¬ã‚¤ãƒ‰è¨­å®š --- */
        .usage-guide {
            margin-top: 15px; font-size: 0.8rem; color: #666; text-align: left;
            background: #fff3e0; padding: 12px; border-radius: 15px; width: 100%;
        }
        .usage-guide p { margin: 0 0 8px 0; font-weight: bold; border-bottom: 1px solid #ffcc80; padding-bottom: 3px; }
        .usage-guide ul { margin: 0; padding-left: 1.2rem; line-height: 1.5; }
        .usage-guide li { margin-bottom: 5px; }
        .lang-en { display: block; font-size: 0.75rem; color: #888; margin-top: 2px; }

        .guide-container { margin-top: 20px; text-align: left; border-top: 1px solid #eee; padding-top: 15px; width: 100%; }
        details { margin-bottom: 10px; background: #f9f9f9; border-radius: 10px; overflow: hidden; border: 1px solid #eee; }
        summary {
            padding: 12px; font-weight: bold; cursor: pointer; color: #555;
            list-style: none; display: flex; justify-content: space-between; align-items: center;
            font-size: 0.85rem;
        }
        summary::after { content: 'â–¼'; font-size: 0.7rem; color: #aaa; }
        details[open] summary::after { content: 'â–²'; }
        .guide-content { padding: 15px; font-size: 0.85rem; color: #444; line-height: 1.6; border-top: 1px solid #eee; }
        .guide-content p { margin: 0 0 10px 0; }
        .hr-dashed { border: 0; border-top: 1px dashed #ddd; margin: 10px 0; }

        .back-link { display: block; margin-top: 20px; color: #888; text-decoration: none; font-size: 1rem; padding: 10px; }
        
        .footer-links { margin-top: 30px; border-top: 1px solid #ddd; padding-top: 20px; width: 100%; }
        .footer-links a { color: #888; text-decoration: none; font-size: 0.8rem; margin: 0 10px; }
        .copyright { font-size: 0.8rem; color: #999; margin: 10px 0; }
    </style>
</head>
<body>

<div id="startScreen" class="screen">
    <div class="container" style="margin-top: 40px;">
        <div style="font-size:4rem; margin-bottom:10px;">ğŸ§ </div>
        <div class="title-box">
            <h1>è„³ãƒˆãƒ¬è¨ˆç®—ãƒ‰ãƒªãƒ«</h1>
            <p class="sub-title">Math Brain Training</p>
            <p style="text-align:left; font-size:1rem; line-height:1.6; color: #444; margin-top: 20px;">
                æ¯æ—¥ã®ç¿’æ…£ã«ã€‚<br>
                ã”è‡ªèº«ã«åˆã£ãŸé›£æ˜“åº¦ã‚’é¸ã‚“ã§ãã ã•ã„ã€‚<br>
                <small style="color:#666;">Choose a difficulty level that suits you.</small>
            </p>
        </div>

        <button onclick="startGame('easy')" class="btn-level lvl-easy">
            ğŸ”° ã‹ã‚“ãŸã‚“ (1æ¡)
            <span>Easy (1 digit)</span>
        </button>
        <button onclick="startGame('normal')" class="btn-level lvl-normal">
            ğŸ”· ãµã¤ã† (2æ¡)
            <span>Normal (2 digits)</span>
        </button>
        <button onclick="startGame('hard')" class="btn-level lvl-hard">
            ğŸ”¥ ã‚€ãšã‹ã—ã„ (æ›ç®—)
            <span>Hard (Multiplication)</span>
        </button>

        <a href="./menu.html" class="back-link">â† ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«æˆ»ã‚‹ / Back to Menu</a>

        <div class="usage-guide">
            <p>ã€ã”åˆ©ç”¨ã‚¬ã‚¤ãƒ‰ / Usage Guideã€‘</p>
            <ul>
                <li><strong>ãŠå­æ§˜ã«ï¼š</strong>è¦–è¦šçš„ãªãƒ’ãƒ³ãƒˆï¼ˆãƒ‰ãƒƒãƒˆï¼‰ã‚’æ´»ç”¨ã—ãªãŒã‚‰ã€æ•°æ¦‚å¿µã®åŸºç¤ã¨ã€Œå››å‰‡æ¼”ç®—ã€ã®è«–ç†ã‚’æ¥½ã—ãå­¦ã¹ã¾ã™ã€‚<span class="lang-en">(Develops fundamental number concepts and arithmetic logic through visual hints.)</span></li>
                <li><strong>ã‚·ãƒ‹ã‚¢ã®æ–¹ã«ï¼š</strong>è¨ˆç®—ã«ã‚ˆã‚‹å‰é ­å‰é‡ã®åˆºæ¿€ã¨ã€ç¬æ™‚ã®åˆ¤æ–­å‹•ä½œãŒèªçŸ¥æ©Ÿèƒ½ã®ç¶­æŒãƒ»æ´»æ€§åŒ–ã«å¤§ããå¯„ä¸ã—ã¾ã™ã€‚<span class="lang-en">(Stimulates the prefrontal cortex and helps maintain cognitive health through rapid mental calculation.)</span></li>
                <li><strong>æ•™è‚²é–¢ä¿‚è€…ã®çš†æ§˜ã¸ï¼š</strong>ã‚¢ãƒ€ãƒ—ãƒ†ã‚£ãƒ–ãªé›£æ˜“åº¦è¨­å®šã‚’å‚™ãˆãŸã€åå¾©å­¦ç¿’ã«æœ€é©ãªãƒ‡ã‚¸ã‚¿ãƒ«æ•™æã¨ã—ã¦ã”æ´»ç”¨ãã ã•ã„ã€‚<span class="lang-en">(An adaptive digital tool ideal for repetitive learning and arithmetic drill sessions.)</span></li>
            </ul>
        </div>

        <div class="guide-container">
            <details>
                <summary>ã€ä¿è­·è€…å‘ã‘ï¼šçŸ¥è‚²ã®ç›®çš„ã€‘ / For Parents</summary>
                <div class="guide-content">
                    <p><strong>Educational Goal ï¼ˆçŸ¥è‚²ã®ç›®çš„ï¼‰</strong></p>
                    <p>æœ¬ã‚¢ãƒ—ãƒªã¯ã€å¹¼å…ã‹ã‚‰å°å­¦ç”Ÿä½å­¦å¹´ã«ãŠã‘ã‚‹ã€Œæ•°ç†çš„æ€è€ƒï¼ˆMathematical Thinkingï¼‰ã€ã®åœŸå°ä½œã‚Šã‚’ç›®çš„ã¨ã—ã¦ã„ã¾ã™ã€‚
                    
                    ç‰¹ã«ã€Œã‹ã‚“ãŸã‚“ãƒ¢ãƒ¼ãƒ‰ã€ã§ã¯ã€æ•°å­—ã¨å¯¾å¿œã™ã‚‹ã€Œãƒ’ãƒ³ãƒˆãƒ»ãƒ‰ãƒƒãƒˆã€ã‚’è¡¨ç¤ºã™ã‚‹ã“ã¨ã§ã€æŠ½è±¡çš„ãªæ•°å­—ã‚’å…·ä½“çš„ãªé‡ã¨ã—ã¦æ‰ãˆã‚‹ã€Œæ•°æ¦‚å¿µã®å…·ä½“åŒ–ã€ã‚’æ”¯æ´ã—ã¾ã™ã€‚
                    è¶³ã—ç®—ãƒ»å¼•ãç®—ãƒ»æ›ã‘ç®—ã¨ã„ã†æ¼”ç®—éç¨‹ã¯ã€è„³å†…ã®ã€Œä½œæ¥­è¨˜æ†¶ï¼ˆãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ãƒ¡ãƒ¢ãƒªï¼‰ã€ã‚’ãƒ•ãƒ«ã«æ´»ç”¨ã•ã›ã€è«–ç†çš„ãªæ€è€ƒå›è·¯ã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚ã¾ãŸã€æ­£è§£æ™‚ã®å³æ™‚çš„ãªéŸ³ã¨è¦–è¦šãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã¯ãƒ‰ãƒ¼ãƒ‘ãƒŸãƒ³æ”¾å‡ºã‚’ä¿ƒã—ã€å­¦ç¿’ã«å¯¾ã™ã‚‹è‡ªå·±è‚¯å®šæ„Ÿã¨ã€Œå­¦ã³ã®æ¥½ã—ã•ã€ã‚’é†¸æˆã—ã¾ã™ã€‚</p>
                    <hr class="hr-dashed">
                    <p>This application aims to build a foundation for "Mathematical Thinking" in early childhood. The "Easy mode" provides visual dots to help bridge the gap between abstract numbers and concrete quantities. The arithmetic process engages "Working Memory," fostering logical neural pathways. Immediate auditory and visual feedback upon correct answers promotes dopamine release, nurturing self-esteem and a positive attitude toward learning.</p>
                </div>
            </details>
            <details>
                <summary>ã€ã‚·ãƒ‹ã‚¢å‘ã‘ï¼šã‚¢ãƒ—ãƒªã®ç›®çš„ã€‘ / For Seniors</summary>
                <div class="guide-content">
                    <p><strong>App Goal ï¼ˆã‚¢ãƒ—ãƒªã®ç›®çš„ï¼‰</strong></p>
                    <p>æœ¬ã‚¢ãƒ—ãƒªã¯ã€ã‚·ãƒ‹ã‚¢ä¸–ä»£ã®èªçŸ¥ç—‡äºˆé˜²ã¨ã€Œè„³ã®å¥åº·å¯¿å‘½ã€å»¶ä¼¸ã‚’ç›®æŒ‡ã—ãŸãƒ‡ã‚¸ã‚¿ãƒ«ãƒ»ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã§ã™ã€‚
                    
                    ç°¡å˜ãªè¨ˆç®—ï¼ˆæš—ç®—ï¼‰ã‚’ç´ æ—©ãè§£ãã“ã¨ã¯ã€è„³ã®å¸ä»¤å¡”ã§ã‚ã‚‹ã€Œå‰é ­å‰é‡ï¼ˆPrefrontal Cortexï¼‰ã€ã‚’æœ€ã‚‚åŠ¹ç‡ã‚ˆãåˆºæ¿€ã™ã‚‹æ´»å‹•ã®ä¸€ã¤ã§ã‚ã‚‹ã“ã¨ãŒè„³ç§‘å­¦çš„ã«è¨¼æ˜ã•ã‚Œã¦ã„ã¾ã™ã€‚
                    é›£æ˜“åº¦ã‚’é¸æŠã—ã€4ã¤ã®é¸æŠè‚¢ã‹ã‚‰æ­£è§£ã‚’ç¬æ™‚ã«è¦‹åˆ†ã‘ã‚‹ã€Œé¸æŠçš„æ³¨æ„ã€ã¨ã€æŒ‡å…ˆã‚’å‹•ã‹ã™ã€Œå·§ç·»æ€§ï¼ˆã“ã†ã¡ã›ã„ï¼‰ã€ã®çµ„ã¿åˆã‚ã›ã¯ã€è„³ã®è¡€æµã‚’ä¿ƒé€²ã—ã¾ã™ã€‚æ¯æ—¥3åˆ†ã®è¨ˆç®—ç¿’æ…£ã¯ã€ç‰©å¿˜ã‚Œã®é˜²æ­¢ã‚„ã€æƒ…å ±ã®å‡¦ç†é€Ÿåº¦ã‚’ç¶­æŒã™ã‚‹ãŸã‚ã®å¼·åŠ›ãªãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã¨ãªã‚Šã¾ã™ã€‚</p>
                    <hr class="hr-dashed">
                    <p>This app serves as a digital activity aimed at dementia prevention and extending "brain health span" for seniors. Neuroscience shows that rapid mental arithmetic is one of the most effective ways to stimulate the Prefrontal Cortex. The combination of "Selective Attention"â€”identifying the correct answer among distractionsâ€”and manual dexterity through tapping promotes cerebral blood flow. A daily 3-minute math routine serves as powerful training to prevent forgetfulness and maintain cognitive processing speed.</p>
                </div>
            </details>
        </div>
        
        <div class="footer-links">
            <a href="privacy.html">åˆ©ç”¨è¦ç´„ / Privacy</a>
            <a href="contact.html">ãŠå•ã„åˆã‚ã› / Contact</a>
            <div class="copyright">Â© 2026 KuniFami Soft Studio</div>
        </div>
    </div>
</div>

<div id="appScreen" class="screen hidden">
    <div class="container">
        <div style="text-align: left; margin-bottom: 10px;">
            <button onclick="backToMenu()" style="background:none; border:none; color:#666; font-size:1rem; cursor:pointer;">â—€ ãƒ¬ãƒ™ãƒ«é¸æŠã¸ / Back</button>
        </div>
        <div class="math-card">
            <div id="hintArea" class="visual-hint"></div>
            <div class="formula" id="formula">1 + 1 = ?</div>
            <div class="answer-grid" id="ansGrid"></div>
        </div>
        <div id="message" style="height: 30px; color: var(--main-color); font-weight: bold; font-size: 1.2rem;"></div>
    </div>
</div>

<script>
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    function playBeep(freq, duration) {
        if (audioCtx.state === 'suspended') audioCtx.resume();
        const osc = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.frequency.setValueAtTime(freq, audioCtx.currentTime);
        gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
        gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + duration);
        osc.connect(gain); gain.connect(audioCtx.destination);
        osc.start(); osc.stop(audioCtx.currentTime + duration);
    }

    let currentLevel = 'easy';
    let currentAnswer = 0;

    function startGame(level) {
        currentLevel = level;
        document.getElementById('startScreen').classList.add('hidden');
        document.getElementById('appScreen').classList.remove('hidden');
        generateProblem();
    }

    function backToMenu() {
        document.getElementById('appScreen').classList.add('hidden');
        document.getElementById('startScreen').classList.remove('hidden');
    }

    function generateProblem() {
        document.getElementById('message').innerText = "";
        let n1, n2, operator;
        const hintArea = document.getElementById('hintArea');
        hintArea.innerHTML = ""; // åˆæœŸåŒ–

        if (currentLevel === 'easy') {
            // ã‹ã‚“ãŸã‚“: 1æ¡ã®è¶³ã—ç®—ãƒ»å¼•ãç®—
            const isPlus = Math.random() > 0.5;
            if (isPlus) {
                n1 = Math.floor(Math.random() * 9) + 1; // 1-9
                n2 = Math.floor(Math.random() * 9) + 1;
                operator = '+';
                currentAnswer = n1 + n2;
            } else {
                n1 = Math.floor(Math.random() * 9) + 2; // 2-10
                n2 = Math.floor(Math.random() * (n1 - 1)) + 1; // å¼•ãæ•°ã¯n1ã‚ˆã‚Šå°ã•ã„
                operator = '-';
                currentAnswer = n1 - n2;
            }
            // ãƒ’ãƒ³ãƒˆè¡¨ç¤ºï¼ˆã‹ã‚“ãŸã‚“ã®ã¿ï¼‰
            for(let i=0; i<n1; i++) hintArea.innerHTML += '<div class="hint-dot"></div>';

        } else if (currentLevel === 'normal') {
            // ãµã¤ã†: 2æ¡ã®è¨ˆç®—ï¼ˆç°¡å˜ã‚ï¼‰
            const isPlus = Math.random() > 0.5;
            if (isPlus) {
                n1 = Math.floor(Math.random() * 40) + 10; // 10-49
                n2 = Math.floor(Math.random() * 40) + 10;
                operator = '+';
                currentAnswer = n1 + n2;
            } else {
                n1 = Math.floor(Math.random() * 40) + 50; // 50-89
                n2 = Math.floor(Math.random() * 40) + 10;
                operator = '-';
                currentAnswer = n1 - n2;
            }

        } else if (currentLevel === 'hard') {
            // ã‚€ãšã‹ã—ã„: æ›ã‘ç®— (ä¹ä¹)
            n1 = Math.floor(Math.random() * 9) + 1; // 1-9
            n2 = Math.floor(Math.random() * 9) + 1;
            operator = 'Ã—';
            currentAnswer = n1 * n2;
        }

        document.getElementById('formula').innerText = `${n1} ${operator} ${n2} = ?`;

        // é¸æŠè‚¢ä½œæˆ
        const choices = new Set([currentAnswer]);
        while(choices.size < 4) {
            let fake;
            if (currentLevel === 'easy') {
                fake = Math.floor(Math.random() * 20); // 0-19
            } else if (currentLevel === 'normal') {
                // æ­£è§£ã«è¿‘ã„æ•°å­—ã‚’ãƒ€ãƒŸãƒ¼ã«ã™ã‚‹
                fake = currentAnswer + Math.floor(Math.random() * 20) - 10;
                if (fake < 0) fake = 0;
            } else {
                // æ›ã‘ç®—ã®ãƒ€ãƒŸãƒ¼ï¼ˆä¹ä¹ã®ç¯„å›²ï¼‰
                fake = Math.floor(Math.random() * 81) + 1;
            }
            if (fake !== currentAnswer) choices.add(fake);
        }
        
        const choicesArray = Array.from(choices).sort(() => Math.random() - 0.5);

        const grid = document.getElementById('ansGrid');
        grid.innerHTML = "";
        choicesArray.forEach(c => {
            const btn = document.createElement('button');
            btn.className = 'ans-btn';
            btn.innerText = c;
            btn.onclick = () => checkAnswer(c, btn);
            grid.appendChild(btn);
        });
    }

    function checkAnswer(val, btn) {
        if (val === currentAnswer) {
            playBeep(880, 0.15); // æ­£è§£éŸ³
            btn.style.background = "#C8E6C9"; // è–„ã„ç·‘
            document.getElementById('message').innerText = "æ­£è§£ï¼ â­• Correct!";
            setTimeout(() => {
                generateProblem();
            }, 800);
        } else {
            playBeep(220, 0.3); // ä¸æ­£è§£éŸ³
            btn.style.background = "#FFCDD2"; // è–„ã„èµ¤
            if (navigator.vibrate) navigator.vibrate(100);
            setTimeout(() => btn.style.background = "#FFF", 500);
        }
    }
</script>
</body>
</html>