<!DOCTYPE html>
<html lang="ja">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1V1ELMWFTY"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-1V1ELMWFTY');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <title>ãŠã¡ã‚‚ã®ã‚­ãƒ£ãƒƒãƒ / Fruit Catch - 3ã€œ5æ­³å‘ã‘ç„¡æ–™çŸ¥è‚²ã‚²ãƒ¼ãƒ </title>
    <meta name="description" content="[JP] 3ã€œ5æ­³å‘ã‘ï¼ãƒ•ãƒ«ãƒ¼ãƒ„ã‚’ã‚­ãƒ£ãƒƒãƒã™ã‚‹ç„¡æ–™çŸ¥è‚²ã‚²ãƒ¼ãƒ ã€‚é›†ä¸­åŠ›ã¨åå°„ç¥çµŒã‚’é¤Šã„ã¾ã™ã€‚ [EN] Free fruit catching game for kids aged 3-5. No installation required. Play for free in your browser.">
    <meta name="keywords" content="çŸ¥è‚²ã‚²ãƒ¼ãƒ ,å­ä¾›å‘ã‘,ç„¡æ–™,ãŠã¡ã‚‚ã®,ãƒ•ãƒ«ãƒ¼ãƒ„,3æ­³,4æ­³,5æ­³,æš‡ã¤ã¶ã—,Fruit Catch Game,Free Kids Games">
    <meta name="author" content="KuniFami Soft Studio">
    <meta name="robots" content="index, follow">

    <meta property="og:title" content="ãŠã¡ã‚‚ã®ã‚­ãƒ£ãƒƒãƒ / Fruit Catch - é›†ä¸­ãƒã‚¹ã‚¿ãƒ¼ Kids">
    <meta property="og:description" content="100ã¦ã‚“ ã¨ã‚Œã‚‹ã‹ãªï¼Ÿ æ¥½ã—ãéŠã¹ã‚‹çŸ¥è‚²ã‚²ãƒ¼ãƒ ã€‚">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://kunifami-soft-studio.com/kids/catch.html">
    <meta name="twitter:card" content="summary">

    <meta name="ad-mode" content="kids">
    <script src="/js/ads.js" defer></script>
    
    <style>
        :root { --bg: #E8F5E9; --main: #4CAF50; }
        * { -webkit-tap-highlight-color: transparent; user-select: none; box-sizing: border-box; }
        body {
            margin: 0; padding: 0; background: var(--bg);
            font-family: "Hiragino Sans", "Meiryo", sans-serif;
            display: flex; flex-direction: column; align-items: center; min-height: 100vh;
            overflow: hidden;
        }

        /* --- Screens --- */
        #startScreen, #clearScreen {
            position: fixed; inset: 0; z-index: 5000;
            background: linear-gradient(135deg, #A5D6A7 0%, #4CAF50 100%);
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }
        #clearScreen { display: none; background: rgba(255, 255, 255, 0.95); }

        .card {
            background: white; padding: 30px; border-radius: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2); width: 90%; max-width: 450px; text-align: center;
        }
        
        .rule-box {
            background: #F1F8E9; border-radius: 20px; padding: 15px; margin: 15px 0;
            text-align: left; font-size: 0.85rem; line-height: 1.5; border: 2px dashed #81C784;
        }

        .btn-start {
            background: #FF5722; color: white; border: none; padding: 15px 40px;
            font-size: 1.6rem; font-weight: 800; border-radius: 50px; cursor: pointer;
            box-shadow: 0 6px 0 #BF360C; margin: 10px 0; width: 100%;
        }
        .btn-start:active { transform: translateY(4px); box-shadow: 0 2px 0 #BF360C; }

        /* Footer for Reliability */
        .footer-links { margin-top: 15px; }
        .footer-links a { color: #666; text-decoration: none; font-size: 0.75rem; margin: 0 10px; }
        .footer-links a:hover { text-decoration: underline; }

        /* --- Game --- */
        #gameScreen { display: none; width: 100%; height: 100vh; position: relative; overflow: hidden; }
        #gameCanvas { background: linear-gradient(to bottom, #81D4FA, #E1F5FE); width: 100%; height: 80%; display: block; }

        .score-board {
            position: absolute; top: 20px; left: 20px;
            background: rgba(255,255,255,0.9); padding: 10px 20px;
            border-radius: 20px; font-weight: bold; color: #2E7D32; font-size: 1.3rem;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .ui-container { height: 20%; width: 100%; background: #fff; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .copyright { font-size: 0.6rem; color: #999; padding: 5px; }
    </style>
</head>
<body>

<div id="startScreen">
    <div class="card">
        <div style="font-size: 4.5rem; margin-bottom: 5px;">ğŸğŸŠğŸŒ</div>
        <h1 style="margin: 0; color: #2E7D32; font-size: 1.8rem;">ãŠã¡ã‚‚ã®ã‚­ãƒ£ãƒƒãƒ</h1>
        <p style="margin: 0; font-weight: bold; color: #4CAF50;">Fruit Catch Challenge</p>
        
        <div class="rule-box">
            <strong>ã€ã‚ãã³ã‹ãŸ / How to playã€‘</strong><br>
            ãƒ»ã‚«ã‚´ã‚’å‹•ã‹ã—ã¦ã€è½ã¡ã¦ãã‚‹ãƒ•ãƒ«ãƒ¼ãƒ„ã‚’ã‚²ãƒƒãƒˆï¼<br>
            ã€€Catch the falling fruits with your basket!<br>
            ãƒ»100ã¦ã‚“ ã¨ã£ãŸã‚‰ ã‚´ãƒ¼ãƒ«ã ã‚ˆï¼<br>
            ã€€Reach 100 points to win the game!<br>
            ãƒ»ã°ãã ã‚“ã¯ ãœã£ãŸã„ã«ã¨ã£ã¡ã‚ƒãƒ€ãƒ¡ï¼<br>
            ã€€Watch out! Do NOT catch the bombs!
        </div>

        <button class="btn-start" onclick="startGame()">Start! / ã¯ã˜ã‚ã‚‹</button>
        <a href="./menu.html" style="display:block; margin-top:10px; color:#aaa; text-decoration:none; font-size:0.8rem;">â† ã‚‚ã©ã‚‹ / Back to Menu</a>
        
        <div class="footer-links">
            <a href="privacy.html">Privacy Policy / è¦ç´„</a>
            <a href="contact.html">Contact / ãŠå•ã„åˆã‚ã›</a>
        </div>
    </div>
</div>

<div id="clearScreen">
    <div class="card">
        <div style="font-size: 6rem;">ğŸ‘‘</div>
        <h1 style="color: #FF9800; font-size: 2rem;">ã‚´ãƒ¼ãƒ«ï¼ã‚„ã£ãŸã­ï¼</h1>
        <p style="font-weight: bold; color: #666;">Goal! You did it!</p>
        <button class="btn-start" onclick="startGame()">Play Again / ã‚‚ã†ã„ã£ã‹ã„</button>
        <a href="./menu.html" style="display:block; margin-top:15px; color:#aaa; text-decoration:none;">â† ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã¸ / Back to Menu</a>
        
        <div class="footer-links" style="margin-top: 20px;">
            <a href="privacy.html" style="color:#999;">Privacy Policy / è¦ç´„</a>
            <a href="contact.html" style="color:#999;">Contact / ãŠå•ã„åˆã‚ã›</a>
        </div>
    </div>
</div>

<div id="gameScreen">
    <div class="score-board">
        Score: <span id="scoreText">0</span> / 100
    </div>
    <canvas id="gameCanvas"></canvas>

    <div class="ui-container">
        <div class="copyright">Â© 2026 KuniFami Soft Studio</div>
        <div class="footer-links" style="margin-bottom: 5px;">
            <a href="privacy.html" style="font-size: 10px; color:#ccc;">Privacy Policy / è¦ç´„</a>
            <a href="contact.html" style="font-size: 10px; color:#ccc;">Contact / ãŠå•ã„åˆã‚ã›</a>
        </div>
    </div>
</div>

<script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    const GOAL_SCORE = 100;
    const fruitsList = ['ğŸ', 'ğŸŠ', 'ğŸŒ', 'ğŸ‡', 'ğŸ“', 'ğŸ‘', 'ğŸ', 'ğŸ‰', 'ğŸˆ'];
    
    let score = 0;
    let basket = { x: 0, y: 0, width: 100, height: 70 };
    let items = [];
    let gameActive = false;
    let animationId;

    function startGame() {
        document.getElementById('startScreen').style.display = 'none';
        document.getElementById('clearScreen').style.display = 'none';
        document.getElementById('gameScreen').style.display = 'block';
        score = 0;
        document.getElementById('scoreText').innerText = score;
        items = [];
        gameActive = true;
        resizeCanvas();
        gameLoop();
    }

    function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight * 0.8;
        basket.y = canvas.height - 90;
        basket.x = canvas.width / 2 - basket.width / 2;
    }

    function gameLoop() {
        if (!gameActive) return;
        
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        
        let spawnChance = 0.04 + (score / 3000);
        if (Math.random() < spawnChance) {
            const isBomb = Math.random() < 0.15;
            items.push({
                x: Math.random() * (canvas.width - 50),
                y: -60,
                speed: 3 + Math.random() * 4 + (score / 50),
                emoji: isBomb ? 'ğŸ’£' : fruitsList[Math.floor(Math.random() * fruitsList.length)],
                isBomb: isBomb
            });
        }

        for (let i = items.length - 1; i >= 0; i--) {
            items[i].y += items[i].speed;
            
            ctx.font = '55px Arial';
            ctx.fillText(items[i].emoji, items[i].x, items[i].y);

            if (items[i].y > basket.y && items[i].y < basket.y + 80 &&
                items[i].x + 40 > basket.x && items[i].x < basket.x + basket.width) {
                
                if (items[i].isBomb) {
                    score = Math.max(0, score - 50);
                } else {
                    score += 10;
                }
                document.getElementById('scoreText').innerText = score;
                items.splice(i, 1);

                if (score >= GOAL_SCORE) {
                    gameActive = false;
                    setTimeout(() => {
                        document.getElementById('clearScreen').style.display = 'flex';
                    }, 300);
                }
                continue;
            }
            if (items[i].y > canvas.height + 100) items.splice(i, 1);
        }

        ctx.font = '90px Arial';
        ctx.fillText('ğŸ§º', basket.x, basket.y + 70);
        
        animationId = requestAnimationFrame(gameLoop);
    }

    function moveHandler(e) {
        if (!gameActive) return;
        let clientX = e.touches ? e.touches[0].clientX : e.clientX;
        basket.x = clientX - basket.width / 2;
        if (basket.x < 0) basket.x = 0;
        if (basket.x > canvas.width - basket.width) basket.x = canvas.width - basket.width;
    }

    window.addEventListener('touchmove', (e) => { moveHandler(e); e.preventDefault(); }, { passive: false });
    window.addEventListener('mousemove', moveHandler);
    window.addEventListener('resize', resizeCanvas);
</script>
</body>
</html>
