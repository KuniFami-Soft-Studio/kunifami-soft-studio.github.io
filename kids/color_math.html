<!DOCTYPE html>
<html lang="ja">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1V1ELMWFTY"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-1V1ELMWFTY');
    </script>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <title>ã‚«ãƒ©ãƒ•ãƒ«è¶³ã—ç®— / Color Math - 5æ­³ã‹ã‚‰ã®è‰²å½©çŸ¥è‚²ã‚²ãƒ¼ãƒ </title>
    <meta name="description" content="[JP] è‰²ã‚’æ··ãœã¦æ–°ã—ã„è‰²ã‚’ä½œã‚‹ã€5æ­³ã‹ã‚‰ã®è‰²å½©çŸ¥è‚²ã‚²ãƒ¼ãƒ ã€‚AIãŒè‰²ã®åå‰ã‚’åˆ¤å®šã—ã¾ã™ã€‚[EN] Educational color mixing game for kids aged 5+. Discover new colors and learn their names with AI.">
    <meta name="keywords" content="çŸ¥è‚²ã‚²ãƒ¼ãƒ ,å­ä¾›å‘ã‘,ç„¡æ–™,è‰²æ··ãœ,è‰²å½©,5æ­³,æš‡ã¤ã¶ã—,Color Mixing Game,Educational Games for Kids">
    <meta name="author" content="kunifami" >
    <meta name="robots" content="index, follow">

    <meta property="og:title" content="ã‚«ãƒ©ãƒ•ãƒ«è¶³ã—ç®— / Color Math - é›†ä¸­ãƒã‚¹ã‚¿ãƒ¼ Kids">
    <meta property="og:description" content="ãˆã®ãã‚’ ã¾ãœã‚‹ã¨ ã©ã‚“ãªè‰²ï¼Ÿ æ¥½ã—ãéŠã¹ã‚‹è‰²å½©çŸ¥è‚²ã‚²ãƒ¼ãƒ ã€‚">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://kunifami-soft-studio.com/kids/color_math.html">
    <meta name="twitter:card" content="summary">

    <meta name="ad-mode" content="kids">
    <script src="/js/ads.js" defer></script>
    
    <style>
        :root { --primary: #FF5722; --secondary: #FFC107; --bg: #1a1a1a; --text: #ffffff; --card-bg: #2a2a2a; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; user-select: none; box-sizing: border-box; }
        body { margin: 0; padding: 0; background-color: var(--bg); font-family: "Hiragino Sans", "Meiryo", sans-serif; color: var(--text); display: flex; flex-direction: column; align-items: center; min-height: 100vh; overflow-y: auto; }
        
        .container { width: 92%; max-width: 420px; margin-top: 20px; text-align: center; }
        .screen { width: 100%; display: flex; flex-direction: column; align-items: center; }
        .hidden { display: none !important; }

        .icon-large { font-size: 4rem; margin-bottom: 5px; }
        .title-main { font-weight: bold; color: var(--text); font-size: 1.3rem; margin-bottom: 5px; }
        .title-sub { font-size: 0.7rem; color: #999; text-transform: uppercase; margin-bottom: 15px; }
        .badge { background: #FFEBEE; color: #D32F2F; font-size: 0.75rem; padding: 4px 12px; border-radius: 12px; display: inline-block; font-weight: bold; margin-bottom: 20px; }

        .rules { background: var(--card-bg); padding: 20px; border-radius: 25px; margin-bottom: 20px; text-align: left; border: 1px solid #444; }
        .rule-item { font-size: 0.8rem; line-height: 1.6; color: #ccc; margin-bottom: 10px; }
        .rule-item b { color: var(--secondary); }

        .game-panel { background: #ffffff; padding: 15px; border-radius: 30px; width: 100%; color: #333; margin-top: 10px; box-shadow: 0 10px 20px rgba(0,0,0,0.3); }
        
        .color-palette { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; margin-bottom: 15px; }
        .color-item { width: 100%; aspect-ratio: 1/1; border-radius: 12px; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; border: 3px solid #eee; transition: 0.2s; position: relative; }
        .color-item.selected { border-color: #333; transform: scale(1.1); z-index: 2; box-shadow: 0 4px 10px rgba(0,0,0,0.2); }
        .color-item.selected::after { content: "âœ“"; position: absolute; top: -5px; right: -5px; background: #333; color: white; border-radius: 50%; width: 18px; height: 18px; font-size: 12px; line-height: 18px; text-align: center; }

        .mix-display { background: #fdfdfd; border-radius: 20px; padding: 15px; border: 2px solid #f0f0f0; }
        .color-slots { display: flex; justify-content: center; align-items: center; gap: 8px; margin-bottom: 10px; flex-wrap: wrap; }
        .color-slot { width: 50px; height: 50px; border-radius: 50%; background: #eee; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; border: 2px solid #fff; box-shadow: inset 0 2px 4px rgba(0,0,0,0.05); }
        .operator { font-size: 1.2rem; font-weight: bold; color: #bbb; }
        
        .result-area { border-top: 2px dashed #eee; padding-top: 10px; margin-top: 10px; }
        .result-slot { width: 90px; height: 90px; border-radius: 50%; background: #eee; margin: 0 auto 10px; display: flex; align-items: center; justify-content: center; font-size: 2.5rem; border: 5px solid #fff; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .result-name { font-size: 1rem; font-weight: bold; color: #FF5722; min-height: 2.8rem; line-height: 1.2; display: flex; align-items: center; justify-content: center; text-align: center; }

        .btn-action { background: #f0f0f0; color: #666; border: none; padding: 10px 20px; border-radius: 20px; font-size: 0.85rem; font-weight: bold; cursor: pointer; margin-top: 10px; }
        .btn-start { background: var(--primary); color: white; padding: 16px; border-radius: 50px; font-size: 1.1rem; width: 100%; border: none; box-shadow: 0 4px 0 #bf360c; font-weight: bold; cursor: pointer; }

        /* --- ã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ã‚ªãƒ³ãƒ»ã‚¬ã‚¤ãƒ‰è¨­å®š --- */
        .usage-guide {
            margin-top: 15px; font-size: 0.8rem; color: #666; text-align: left;
            background: #fff3e0; padding: 12px; border-radius: 15px;
        }
        .usage-guide p { margin: 0 0 8px 0; font-weight: bold; border-bottom: 1px solid #ffcc80; padding-bottom: 3px; }
        .usage-guide ul { margin: 0; padding-left: 1.2rem; line-height: 1.5; }
        .usage-guide li { margin-bottom: 5px; }
        .lang-en { display: block; font-size: 0.75rem; color: #888; margin-top: 2px; }

        .guide-container { margin-top: 20px; text-align: left; border-top: 1px solid #eee; padding-top: 15px; }
        details { margin-bottom: 10px; background: #f9f9f9; border-radius: 10px; overflow: hidden; }
        summary {
            padding: 12px; font-weight: bold; cursor: pointer; color: #555;
            list-style: none; display: flex; justify-content: space-between; align-items: center;
            font-size: 0.85rem;
        }
        summary::after { content: 'â–¼'; font-size: 0.7rem; color: #aaa; }
        details[open] summary::after { content: 'â–²'; }
        .guide-content { padding: 15px; font-size: 0.85rem; color: #444; line-height: 1.6; border-top: 1px solid #eee; }
        .guide-content p { margin: 0 0 10px 0; }
        .hr-dashed { border: 0; border-top: 1px dashed #ddd; margin: 10px 0; }

        .footer-nav { margin-top: 30px; padding-bottom: 30px; text-align: center; width: 100%; }
        .footer-links { margin-bottom: 10px; }
        .footer-links a { color: #888; text-decoration: none; font-size: 12px; margin: 0 10px; }
        .footer-links a:hover { text-decoration: underline; }
        .copyright { font-size: 0.7rem; color: #666; font-weight: bold; }
    </style>
</head>
<body>

<div id="startScreen" class="screen">
    <div class="container">
        <div class="icon-large">ğŸŒˆ</div>
        <div class="title-main">ã‚«ãƒ©ãƒ•ãƒ«è¶³ã—ç®— / Color Math</div>
        <div class="title-sub">Color Science Laboratory</div>
        <div class="badge">5ã•ã„ã€œ / Age 5+</div>

        <div class="rules">
            <div class="rule-item">
                ãƒ»å¥½ããªè‰²ã‚’<b>3ã¤ã¾ã§</b>é¸ã‚“ã§ã­ï¼<br>
                ã€€(Choose up to 3 colors!)
            </div>
            <div class="rule-item">
                ãƒ»æ··ãœã‚‹ã¨ã©ã‚“ãªè‰²ã«ãªã‚‹ã‹ãªï¼Ÿ<br>
                ã€€(What color will it be?)
            </div>
            <div class="rule-item">
                ãƒ»AIãŒè‰²ã®åå‰ã‚’æ•™ãˆã¦ãã‚Œã‚‹ã‚ˆã€‚<br>
                ã€€(AI will tell you the color name.)
            </div>
        </div>

        <button class="btn-start" onclick="showGame()">ã¯ã˜ã‚ã‚‹ / Start</button>
        <a href="./menu.html" style="display:block; margin-top:20px; color:#666; text-decoration:none; font-size:0.8rem; font-weight:bold;">â† ã‚‚ã©ã‚‹ / Back</a>
        
        <div class="usage-guide">
            <p>ã€ã”åˆ©ç”¨ã‚¬ã‚¤ãƒ‰ / Usage Guideã€‘</p>
            <ul>
                <li><strong>ãŠå­æ§˜ã«ï¼š</strong>è‰²ã®æ··åˆã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹ã“ã¨ã§ã€è‰²å½©æ„Ÿè¦šã¨ã€ŒA+B=Cã€ã¨ã„ã†è«–ç†çš„æ€è€ƒã‚’åŒæ™‚ã«è‚²ã¿ã¾ã™ã€‚<span class="lang-en">(Develops color sense and logical "A+B=C" thinking by simulating color mixing.)</span></li>
                <li><strong>ã‚·ãƒ‹ã‚¢ã®æ–¹ã«ï¼š</strong>è‰²ã®çµ„ã¿åˆã‚ã›ã‚’äºˆæ¸¬ã—ã€çµæœã‚’åˆ†æã™ã‚‹ãƒ—ãƒ­ã‚»ã‚¹ãŒå‰é ­å‰é‡ã‚’åˆºæ¿€ã—ã€è„³ã®æ´»æ€§åŒ–ã‚’åŠ©ã‘ã¾ã™ã€‚<span class="lang-en">(Stimulates the prefrontal cortex by predicting and analyzing color combinations.)</span></li>
                <li><strong>æ•™è‚²é–¢ä¿‚è€…ã®çš†æ§˜ã¸ï¼š</strong>ç¾è¡“ã¨ç®—æ•°ã‚’èåˆã—ãŸSTEMæ•™è‚²ã®å°å…¥æ•™æã¨ã—ã¦ã€è‡ªç”±ã«ã”æ´»ç”¨ã„ãŸã ã‘ã¾ã™ã€‚<span class="lang-en">(Free to use as a STEM resource blending art and mathematics.)</span></li>
            </ul>
        </div>

        <div class="guide-container">
            <details>
                <summary>ã€ä¿è­·è€…å‘ã‘ï¼šçŸ¥è‚²ã®ç›®çš„ã€‘ / For Parents</summary>
                <div class="guide-content">
                    <p><strong>Educational Goal ï¼ˆçŸ¥è‚²ã®ç›®çš„ï¼‰</strong></p>
                    <p>ã“ã®ã‚¢ãƒ—ãƒªã¯ã€å¹¼å…æœŸã®èªçŸ¥ç™ºé”ã«ãŠã„ã¦æ¥µã‚ã¦é‡è¦ãªã€Œè¦–è¦šçš„è­˜åˆ¥åŠ›ã€ã¨ã€Œæ•°ç†çš„æ€è€ƒã€ã®çµ±åˆã‚’ç›®çš„ã¨ã—ã¦ã„ã¾ã™ã€‚è‰²å½©ã¯æ„Ÿæƒ…ã‚„ç›´æ„Ÿã«åƒãã‹ã‘ã‚‹ä¸€æ–¹ã§ã€ãƒ‡ã‚¸ã‚¿ãƒ«ä¸–ç•Œã§ã¯æ•°å€¤ï¼ˆRGBå€¤ï¼‰ã¨ã—ã¦ç®¡ç†ã•ã‚Œã¦ã„ã¾ã™ã€‚æœ¬ã‚¢ãƒ—ãƒªã®å†…éƒ¨ãƒ­ã‚¸ãƒƒã‚¯ã§ã¯ã€é¸æŠã•ã‚ŒãŸè‰²ã®å¹³å‡å€¤ã‚’è¨ˆç®—ã™ã‚‹ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’ç”¨ã„ã¦ãŠã‚Šã€ãŠå­æ§˜ãŒéŠã³ãªãŒã‚‰ç„¡æ„è­˜ã«ã€Œåˆæˆã€ã¨ã€Œå¹³å‡ã€ã¨ã„ã†æ¦‚å¿µã«è§¦ã‚Œã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
                    ã¾ãŸã€ã€Œèµ¤ã¨é’ã‚’æ··ãœã‚‹ã¨ç´«ã«ãªã‚‹ã€ã¨ã„ã†æ—¢å­˜ã®çŸ¥è­˜ã‚’ç¢ºèªã™ã‚‹ã ã‘ã§ãªãã€3è‰²ã®è¤‡é›‘ãªçµ„ã¿åˆã‚ã›ã‚’è©¦è¡Œã™ã‚‹ã“ã¨ã§ã€äºˆæ¸¬ï¼ˆä»®èª¬ç«‹æ¡ˆï¼‰ã¨çµæœã®è¦³å¯Ÿã¨ã„ã†ç§‘å­¦çš„æ‰‹æ³•ã®åŸºç¤ã‚’å­¦ã³ã¾ã™ã€‚è‰²å½©æ„Ÿè¦šã‚’é¤Šã„ãªãŒã‚‰ã€è«–ç†çš„ãªæ¨è«–åŠ›ã‚’é«˜ã‚ã‚‹ã“ã¨ã§ã€å¤šè§’çš„ãªçŸ¥èƒ½ã®ç™ºé”ï¼ˆè‡ªå·±è‚¯å®šæ„Ÿã®å‘ä¸Šï¼‰ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚</p>
                    <hr class="hr-dashed">
                    <p>This app integrates "visual discrimination" and "mathematical thinking," both vital for early cognitive development. While colors evoke emotion and intuition, in the digital realm, they are managed via numerical RGB values. The internal algorithm calculates the average of selected colors, intuitively introducing the concepts of "synthesis" and "averaging." Beyond confirming basic knowledge like "Red + Blue = Purple," experimenting with three-color combinations helps children learn scientific methods such as hypothesis testing and observation. By nurturing color sense alongside logical reasoning, it supports multifaceted intellectual growth and enhances self-esteem.</p>
                </div>
            </details>
            <details>
                <summary>ã€ã‚·ãƒ‹ã‚¢å‘ã‘ï¼šã‚¢ãƒ—ãƒªã®ç›®çš„ã€‘ / For Seniors</summary>
                <div class="guide-content">
                    <p><strong>App Goal ï¼ˆã‚¢ãƒ—ãƒªã®ç›®çš„ï¼‰</strong></p>
                    <p>æœ¬ã‚¢ãƒ—ãƒªã¯ã€ã‚·ãƒ‹ã‚¢ä¸–ä»£ã®è„³ã®æ´»æ€§åŒ–ï¼ˆã‚¢ãƒ³ãƒã‚¨ã‚¤ã‚¸ãƒ³ã‚°ï¼‰ã‚’ç›®çš„ã¨ã—ãŸã€Œãƒ‡ã‚¸ã‚¿ãƒ«ãƒ»ã‚«ãƒ©ãƒ¼ãƒ»ã‚»ãƒ©ãƒ”ãƒ¼ã€ã®è¦–ç‚¹ã‚’å–ã‚Šå…¥ã‚Œã¦ã„ã¾ã™ã€‚è‰²å½©ã®åˆºæ¿€ã¯è¦–è¦šé‡ã‚’é€šã˜ã¦è„³ã‚’åºƒç¯„å›²ã«æ´»æ€§åŒ–ã•ã›ã¾ã™ãŒã€æœ¬ã‚¢ãƒ—ãƒªã®ç‰¹å¾´ã¯ã€Œäºˆæ¸¬ã™ã‚‹ã€ã¨ã„ã†é«˜æ¬¡è„³æ©Ÿèƒ½ï¼ˆå‰é ­å‰é‡ã®åˆºæ¿€ï¼‰ã«ã‚ã‚Šã¾ã™ã€‚ã€Œã©ã®è‰²ã‚’æ··ãœã‚Œã°æœ›ã‚€è‰²ã«ãªã‚‹ã‹ã€ã‚’è€ƒãˆã‚‹ãƒ—ãƒ­ã‚»ã‚¹ã¯ã€ãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ãƒ¡ãƒ¢ãƒªï¼ˆä½œæ¥­è¨˜æ†¶ï¼‰ã‚’ãƒ•ãƒ«ã«æ´»ç”¨ã—ã¾ã™ã€‚
                    ã¾ãŸã€æŒ‡å…ˆã‚’ä½¿ã£ã¦è‰²ã‚’é¸ã³ã€çµæœã‚’ç¢ºèªã™ã‚‹ä¸€é€£ã®æ“ä½œã¯ã€æ‰‹ã¨ç›®ã®å”èª¿æ€§ã‚’ç¶­æŒã™ã‚‹ã€Œå·§ç·»æ€§ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã€ã¨ã—ã¦ã‚‚æ©Ÿèƒ½ã—ã¾ã™ã€‚AIã«ã‚ˆã‚‹è‰²ã®åå‰ã®åˆ¤å®šã¯ã€æ–°ã—ã„èªå½™ã‚„æ¦‚å¿µã¸ã®æ¥è§¦ã‚’ä¿ƒã—ã€çŸ¥çš„å¥½å¥‡å¿ƒã‚’åˆºæ¿€ã—ã¾ã™ã€‚ã‚·ãƒ³ãƒ—ãƒ«ãªãŒã‚‰ã‚‚å¥¥æ·±ã„è‰²å½©ã®ä¸–ç•Œã‚’é€šã˜ã¦ã€æ¥½ã—ã¿ãªãŒã‚‰èªçŸ¥æ©Ÿèƒ½ã®ç¶­æŒãƒ»å‘ä¸Šã‚’ç›®æŒ‡ã™ã“ã¨ãŒã§ãã¾ã™ã€‚</p>
                    <hr class="hr-dashed">
                    <p>This app incorporates "Digital Color Therapy" perspectives aimed at brain activation and anti-aging for seniors. Visual stimulation from colors activates broad areas of the brain, but the core benefit lies in "prediction"â€”an executive function of the prefrontal cortex. Strategizing which colors to mix to achieve a target result fully engages working memory. Furthermore, selecting colors and confirming results serves as "dexterity training" for hand-eye coordination. The AI-driven color naming encourages contact with new vocabulary, sparking intellectual curiosity. Through the simple yet profound world of color, users can enjoyably maintain and improve cognitive functions.</p>
                </div>
            </details>
        </div>

        <footer class="footer-nav">
            <div class="footer-links">
                <a href="privacy.html">Privacy Policy / è¦ç´„</a>
                <a href="contact.html">Contact / ãŠå•ã„åˆã‚ã›</a>
            </div>
            <div class="copyright">Â© 2026 KuniFami Soft Studio</div>
        </footer>
    </div>
</div>

<div id="gameScreen" class="screen hidden">
    <div class="container">
        <div class="game-panel">
            <div id="guideText" style="font-weight: bold; margin-bottom: 12px; font-size: 0.85rem; color: #666;">ãˆã®ãã‚’ ãˆã‚‰ã‚“ã§ã­ / Choose Colors</div>

            <div class="color-palette" id="colorPalette"></div>

            <div class="mix-display">
                <div class="color-slots">
                    <div id="slot1" class="color-slot">?</div>
                    <div class="operator">+</div>
                    <div id="slot2" class="color-slot">?</div>
                    <div class="operator">+</div>
                    <div id="slot3" class="color-slot">?</div>
                </div>
                
                <div class="result-area">
                    <div id="resultSlot" class="result-slot">?</div>
                    <div id="resultName" class="result-name"></div>
                </div>
                
                <button class="btn-action" onclick="resetSelection()">ã‚‚ã†ä¸€åº¦ / Try Again</button>
            </div>

            <a href="./menu.html" style="display:block; margin-top:15px; color:#aaa; text-decoration:none; font-size:0.8rem;">â† ã‚‚ã©ã‚‹ / Back</a>
            
            <footer class="footer-nav" style="margin-top: 15px;">
                <div class="footer-links">
                    <a href="privacy.html" style="color: #ccc;">Privacy / è¦ç´„</a>
                    <a href="contact.html" style="color: #ccc;">Contact / å•åˆã›</a>
                </div>
                <div class="copyright" style="color: #999;">Â© 2026 KuniFami Soft Studio</div>
            </footer>
        </div>
    </div>
</div>

<script>
    const colorData = [
        { name: 'ã‚ã‹', hex: '#FF0000', emoji: 'ğŸ”´' },
        { name: 'ã‚ãŠ', hex: '#0000FF', emoji: 'ğŸ”µ' },
        { name: 'ãã„ã‚', hex: '#FFFF00', emoji: 'ğŸŸ¡' },
        { name: 'ã—ã‚', hex: '#FFFFFF', emoji: 'âšª' },
        { name: 'ã¿ã©ã‚Š', hex: '#00FF00', emoji: 'ğŸŸ¢' },
        { name: 'ã ã„ã ã„', hex: '#FFA500', emoji: 'ğŸŸ ' },
        { name: 'ã‚€ã‚‰ã•ã', hex: '#800080', emoji: 'ğŸŸ£' },
        { name: 'ã‚‚ã‚‚ã„ã‚', hex: '#FFC0CB', emoji: 'ğŸŒ¸' },
        { name: 'ã¿ãšã„ã‚', hex: '#87CEEB', emoji: 'ğŸ’' },
        { name: 'ãã¿ã©ã‚Š', hex: '#ADFF2F', emoji: 'ğŸ¥' },
        { name: 'ã¡ã‚ƒã„ã‚', hex: '#8B4513', emoji: 'ğŸªµ' },
        { name: 'ãã‚', hex: '#000000', emoji: 'âš«' }
    ];

    let selectedColors = [];

    function showGame() {
        document.getElementById('startScreen').classList.add('hidden');
        document.getElementById('gameScreen').classList.remove('hidden');
        renderPalette();
    }

    function renderPalette() {
        const palette = document.getElementById('colorPalette');
        palette.innerHTML = '';
        colorData.forEach((color, i) => {
            const div = document.createElement('div');
            div.className = 'color-item';
            div.style.backgroundColor = color.hex;
            div.innerText = color.emoji;
            div.onclick = () => selectColor(color, div);
            palette.appendChild(div);
        });
    }

    function selectColor(color, el) {
        if (selectedColors.length >= 3 || el.classList.contains('selected')) return;
        selectedColors.push(color);
        el.classList.add('selected');
        const idx = selectedColors.length;
        const slot = document.getElementById('slot' + idx);
        slot.style.backgroundColor = color.hex;
        slot.innerText = color.emoji;
        if (selectedColors.length >= 2) mixColors();
    }

    function mixColors() {
        let r = 0, g = 0, b = 0;
        selectedColors.forEach(c => {
            const hex = c.hex.replace('#', '');
            r += parseInt(hex.substring(0, 2), 16);
            g += parseInt(hex.substring(2, 4), 16);
            b += parseInt(hex.substring(4, 6), 16);
        });
        r = Math.floor(r / selectedColors.length);
        g = Math.floor(g / selectedColors.length);
        b = Math.floor(b / selectedColors.length);
        const mixedHex = `#${r.toString(16).padStart(2,'0')}${g.toString(16).padStart(2,'0')}${b.toString(16).padStart(2,'0')}`;
        const resultSlot = document.getElementById('resultSlot');
        resultSlot.style.backgroundColor = mixedHex;
        resultSlot.innerText = 'âœ¨';

        const pair = selectedColors.map(c => c.name).sort().join('+');
        const recipes = {
            'ã‚ã‹+ãã„ã‚': 'ã ã„ã ã„ / Orange',
            'ã‚ã‹+ã‚ãŠ': 'ã‚€ã‚‰ã•ã / Purple',
            'ã‚ãŠ+ãã„ã‚': 'ã¿ã©ã‚Š / Green',
            'ã‚ã‹+ã—ã‚': 'ãƒ”ãƒ³ã‚¯ / Pink',
            'ã‚ãŠ+ã—ã‚': 'ã¿ãšã„ã‚ / Light Blue',
            'ã‚ã‹+ã‚ãŠ+ã—ã‚': 'ã†ã™ã‚€ã‚‰ã•ã / Lavender',
            'ã‚ã‹+ãã„ã‚+ã—ã‚': 'ã‚ã‚“ãšã„ã‚ / Apricot',
            'ã‚ãŠ+ãã„ã‚+ã—ã‚': 'ãƒšãƒ¼ãƒ«ã‚°ãƒªãƒ¼ãƒ³ / Pale Green',
            'ã—ã‚+ãã‚': 'ã¯ã„ã„ã‚ / Gray',
            'ã‚ã‹+ãã„ã‚+ã‚ãŠ': 'ã¡ã‚ƒã„ã‚ / Brown'
        };

        let resultName = "";
        if (recipes[pair]) {
            resultName = recipes[pair];
        } else {
            if (r > 220 && g > 220 && b > 220) resultName = "ã—ã‚ã«è¿‘ã„è‰² / Almost White";
            else if (r < 60 && g < 60 && b < 60) resultName = "ãã‚‰ã„è‰² / Dark Color";
            else if (r > g + 30 && r > b + 30) resultName = (g > 100) ? "ã‚ãŸãŸã‹ã„è‰² / Warm Color" : "ã‚ã‹ã¿ã®ã¤ã‚ˆã„è‰² / Reddish Color";
            else if (g > r + 30 && g > b + 30) resultName = "ã—ãœã‚“ã®è‰² / Greenish Color";
            else if (b > r + 30 && b > g + 30) resultName = "ã™ãšã—ã„è‰² / Cool Bluish Color";
            else resultName = "ãµã—ããªè‰² / Mysterious Color";
        }
        document.getElementById('resultName').innerText = resultName;
        playTone(300 + (selectedColors.length * 100));
    }

    function resetSelection() {
        selectedColors = [];
        [1,2,3].forEach(i => {
            const s = document.getElementById('slot' + i);
            s.style.backgroundColor = '#eee';
            s.innerText = '?';
        });
        document.getElementById('resultSlot').style.backgroundColor = '#eee';
        document.getElementById('resultSlot').innerText = '?';
        document.getElementById('resultName').innerText = '';
        document.querySelectorAll('.color-item').forEach(el => el.classList.remove('selected'));
    }

    function playTone(freq) {
        const ctx = new (window.AudioContext || window.webkitAudioContext)();
        const osc = ctx.createOscillator();
        const g = ctx.createGain();
        osc.connect(g); g.connect(ctx.destination);
        osc.frequency.value = freq;
        g.gain.setValueAtTime(0.05, ctx.currentTime);
        g.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.3);
        osc.start(); osc.stop(ctx.currentTime + 0.3);
    }
</script>

</body>
</html>