<!DOCTYPE html>
<html lang="ja">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1V1ELMWFTY"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-1V1ELMWFTY');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Shadow Quiz / ã‹ã’ã‚ã¦ã‚¯ã‚¤ã‚º</title>
    
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5115190227060860" crossorigin="anonymous"></script>
    
    <style>
        :root { --bg: #FFF3E0; --card: #ffffff; --accent: #FF9800; }
        body {
            font-family: "Hiragino Sans", "Meiryo", sans-serif;
            background: var(--bg);
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            min-height: 100vh; margin: 0; overflow: hidden; touch-action: none;
        }
        .container {
            background: var(--card); padding: 25px; border-radius: 40px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.05); text-align: center; width: 90%; max-width: 450px;
            border: 6px solid #fff; position: relative; z-index: 10;
        }

        #gameScreen { display: none; position: fixed; inset: 0; background: #fff; z-index: 100; flex-direction: column; align-items: center; justify-content: center; }
        
        /* ã‚·ãƒ«ã‚¨ãƒƒãƒˆè¡¨ç¤ºã‚¨ãƒªã‚¢ */
        .quiz-area { margin-bottom: 20px; text-align: center; }
        .shadow-icon {
            font-size: 9rem;
            filter: brightness(0);
            transition: filter 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            -webkit-user-select: none;
        }
        .shadow-icon.revealed { filter: brightness(1); }

        /* çµæœè¡¨ç¤º */
        .result-overlay {
            height: 80px; text-align: center; font-size: 1.6rem; font-weight: 900;
            color: #E65100; margin-bottom: 20px; line-height: 1.2;
        }
        .result-overlay small { font-size: 1rem; color: #FF9800; display: block; }

        /* é¸æŠè‚¢ãƒœã‚¿ãƒ³ */
        .choices-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; width: 90%; max-width: 400px; }
        .choice-btn {
            background: #fff; border: 3px solid #ffe0b2; border-radius: 20px;
            padding: 18px 10px; font-size: 1.1rem; font-weight: bold; cursor: pointer;
            box-shadow: 0 4px 0 #ffe0b2; transition: all 0.1s; color: #5D4037;
        }
        .choice-btn:active { transform: translateY(4px); box-shadow: none; }
        .choice-btn.correct { background: #c8e6c9; border-color: #4caf50; color: #1b5e20; box-shadow: 0 4px 0 #388E3C; }
        .choice-btn.wrong { background: #ffcdd2; border-color: #f44336; color: #b71c1c; box-shadow: 0 4px 0 #D32F2F; }

        .btn-exit { position: absolute; top: 20px; right: 20px; padding: 10px 18px; background: #fff; border: 2px solid #eee; border-radius: 15px; font-weight: bold; z-index: 150; }
        h1 { font-size: 1.5rem; color: #E65100; margin: 0; }
        .btn-main { width: 100%; padding: 18px; background: var(--accent); color: white; border: none; border-radius: 25px; font-weight: 800; font-size: 1.2rem; cursor: pointer; box-shadow: 0 6px 0 #E65100; }
    </style>
</head>
<body>

<div class="container" id="startScreen">
    <h1>ğŸ‘» Shadow Quiz</h1>
    <div style="font-size: 0.9rem; color: #999; margin-bottom: 15px;">ã‹ã’ã‚ã¦ã‚¯ã‚¤ã‚º / Silhouette Quiz</div>
    
    <div style="background: #fff3e0; padding: 15px; border-radius: 20px; text-align: left; font-size: 0.85rem; margin-bottom: 15px; border: 2px dashed #ffb74d;">
        <div>â“ <strong>ã ã‚Œã®ã‹ã’ã‹ãªï¼Ÿ</strong><br>Who is this shadow?</div>
        <div style="margin-top:8px;">âœ¨ <strong>ã›ã„ã‹ã„ã™ã‚‹ã¨ ã„ã‚ãŒã¤ãã‚ˆï¼</strong><br>Color returns when you're right!</div>
    </div>

    <button class="btn-main" onclick="startGame()">Start! / ã‚¹ã‚¿ãƒ¼ãƒˆï¼</button>
    <a href="./menu.html" style="display:block; margin-top:15px; color:#aaa; text-decoration:none; font-size:0.8rem;">â† Back / ã‚‚ã©ã‚‹</a>
</div>

<div id="gameScreen">
    <button class="btn-exit" onclick="stopGame()">Quit / ãŠã‚ã‚‹</button>
    
    <div class="quiz-area">
        <div id="mainIcon" class="shadow-icon"></div>
    </div>

    <div id="resultText" class="result-overlay"></div>

    <div class="choices-grid" id="choicesGrid"></div>
</div>

<script>
    const masterList = [
        {i:'ğŸ¦',j:'ãƒ©ã‚¤ã‚ªãƒ³',e:'Lion'},{i:'ğŸ˜',j:'ãã†',e:'Elephant'},{i:'ğŸ¦’',j:'ãã‚Šã‚“',e:'Giraffe'},{i:'ğŸ¦“',j:'ã—ã¾ã†ã¾',e:'Zebra'},{i:'ğŸ¼',j:'ã±ã‚“ã ',e:'Panda'},
        {i:'ğŸ»',j:'ãã¾',e:'Bear'},{i:'ğŸ¯',j:'ã¨ã‚‰',e:'Tiger'},{i:'ğŸµ',j:'ã•ã‚‹',e:'Monkey'},{i:'ğŸ¶',j:'ã„ã¬',e:'Dog'},{i:'ğŸ±',j:'ã­ã“',e:'Cat'},
        {i:'ğŸ°',j:'ã†ã•ã',e:'Rabbit'},{i:'ğŸ¹',j:'ã¯ã‚€ã™ãŸãƒ¼',e:'Hamster'},{i:'ğŸ¸',j:'ã‹ãˆã‚‹',e:'Frog'},{i:'ğŸ¢',j:'ã‹ã‚',e:'Turtle'},{i:'ğŸ§',j:'ãºã‚“ãã‚“',e:'Penguin'},
        {i:'ğŸ¬',j:'ã„ã‚‹ã‹',e:'Dolphin'},{i:'ğŸ³',j:'ãã˜ã‚‰',e:'Whale'},{i:'ğŸ™',j:'ãŸã“',e:'Octopus'},{i:'ğŸ¦‹',j:'ã¡ã‚‡ã†ã¡ã‚‡',e:'Butterfly'},{i:'ğŸ',j:'ã¯ã¡',e:'Bee'},
        {i:'ğŸ·',j:'ã¶ãŸ',e:'Pig'},{i:'ğŸ®',j:'ã†ã—',e:'Cow'},{i:'ğŸ‘',j:'ã²ã¤ã˜',e:'Sheep'},{i:'ğŸ´',j:'ã†ã¾',e:'Horse'},{i:'ğŸ”',j:'ã«ã‚ã¨ã‚Š',e:'Chicken'},
        {i:'ğŸ¦†',j:'ã‚ã²ã‚‹',e:'Duck'},{i:'ğŸ¦‰',j:'ãµãã‚ã†',e:'Owl'},{i:'ğŸ¦‡',j:'ã“ã†ã‚‚ã‚Š',e:'Bat'},{i:'ğŸº',j:'ãŠãŠã‹ã¿',e:'Wolf'},{i:'ğŸ¦Š',j:'ãã¤ã­',e:'Fox'},
        {i:'ğŸ¦',j:'ã‚ã‚‰ã„ãã¾',e:'Raccoon'},{i:'ğŸ¨',j:'ã“ã‚ã‚‰',e:'Koala'},{i:'ğŸ¦˜',j:'ã‹ã‚“ãŒã‚‹ãƒ¼',e:'Kangaroo'},{i:'ğŸ¦¥',j:'ãªã¾ã‘ã‚‚ã®',e:'Sloth'},{i:'ğŸ¦¦',j:'ã‹ã‚ã†ã',e:'Otter'},
        {i:'ğŸ¦«',j:'ã³ãƒ¼ã°ãƒ¼',e:'Beaver'},{i:'ğŸ¦”',j:'ã¯ã‚Šã­ãšã¿',e:'Hedgehog'},{i:'ğŸ¿ï¸',j:'ã‚Šã™',e:'Squirrel'},{i:'ğŸ«',j:'ã‚‰ãã ',e:'Camel'},{i:'ğŸ¦',j:'ã•ã„',e:'Rhino'},
        {i:'ğŸ¦›',j:'ã‹ã°',e:'Hippo'},{i:'ğŸ†',j:'ã²ã‚‡ã†',e:'Leopard'},{i:'ğŸŠ',j:'ã‚ã«',e:'Crocodile'},{i:'ğŸ',j:'ã¸ã³',e:'Snake'},{i:'ğŸ¦',j:'ã¨ã‹ã’',e:'Lizard'},
        {i:'ğŸ¦•',j:'ãã‚‡ã†ã‚Šã‚…ã†',e:'Dinosaur'},{i:'ğŸ¦–',j:'ã¦ãƒã‚‰ã®ã•ã†ã‚‹ã™',e:'T-Rex'},{i:'ğŸ¦ˆ',j:'ã•ã‚',e:'Shark'},{i:'ğŸ¦',j:'ãˆã³',e:'Shrimp'},{i:'ğŸ¦€',j:'ã‹ã«',e:'Crab'},
        {i:'ğŸ ',j:'ã•ã‹ãª',e:'Fish'},{i:'ğŸ¡',j:'ãµã',e:'Blowfish'},{i:'ğŸš',j:'ã‹ã„',e:'Shell'},{i:'ğŸŒ',j:'ã‹ãŸã¤ã‚€ã‚Š',e:'Snail'},{i:'ğŸ',j:'ã¦ã‚“ã¨ã†ã‚€ã—',e:'Ladybug'},
        {i:'ğŸœ',j:'ã‚ã‚Š',e:'Ant'},{i:'ğŸ¦—',j:'ã“ãŠã‚ã',e:'Cricket'},{i:'ğŸ•·ï¸',j:'ãã‚‚',e:'Spider'},{i:'ğŸ¦‚',j:'ã•ãã‚Š',e:'Scorpion'},{i:'ğŸ¦Ÿ',j:'ã‹',e:'Mosquito'},
        {i:'ğŸ¦¢',j:'ã¯ãã¡ã‚‡ã†',e:'Swan'},{i:'ğŸ¦œ',j:'ãŠã†ã‚€',e:'Parrot'},{i:'ğŸ¦š',j:'ãã˜ã‚ƒã',e:'Peacock'},{i:'ğŸ¦…',j:'ã‚ã—',e:'Eagle'},{i:'ğŸ•Šï¸',j:'ã¯ã¨',e:'Dove'},
        {i:'ğŸ¦ƒ',j:'ã—ã¡ã‚ã‚“ã¡ã‚‡ã†',e:'Turkey'},{i:'ğŸ',j:'ã­ãšã¿',e:'Mouse'},{i:'ğŸƒ',j:'ã™ã„ãã‚…ã†',e:'Buffalo'},{i:'ğŸ',j:'ã‚„ã',e:'Goat'},{i:'ğŸ¦Œ',j:'ã—ã‹',e:'Deer'},
        {i:'ğŸ¦©',j:'ãµã‚‰ã¿ã‚“ã”',e:'Flamingo'},{i:'ğŸ¦‘',j:'ã„ã‹',e:'Squid'},{i:'ğŸ¦',j:'ã„ã›ãˆã³',e:'Lobster'},{i:'ğŸ¦„',j:'ã‚†ã«ã“ãƒ¼ã‚“',e:'Unicorn'},{i:'ğŸ‰',j:'ã‚Šã‚…ã†',e:'Dragon'},
        {i:'ğŸ†',j:'ã¡ãƒ¼ãŸãƒ¼',e:'Cheetah'},{i:'ğŸ',j:'ã²ã¤ã˜',e:'Ram'},{i:'ğŸˆ',j:'ã“ã­ã“',e:'Kitten'},{i:'ğŸ•',j:'ã“ã„ã¬',e:'Puppy'},{i:'ğŸ¤',j:'ã²ã‚ˆã“',e:'Chick'},
        {i:'ğŸ¦',j:'ã¨ã‚Š',e:'Bird'},{i:'ğŸ¦',j:'ã”ã‚Šã‚‰',e:'Gorilla'},{i:'ğŸ¦§',j:'ãŠã‚‰ã‚“ã†ãƒ¼ãŸã‚“',e:'Orangutan'},{i:'ğŸ—',j:'ã„ã®ã—ã—',e:'Boar'},{i:'ğŸ«',j:'ã‚‰ãã ',e:'Camel'},
        {i:'ğŸ‚',j:'ãŠã†ã—',e:'Ox'},{i:'ğŸ¾',j:'ã‚ã—ã‚ã¨',e:'Paws'},{i:'ğŸ‹',j:'ã¾ã£ã“ã†ãã˜ã‚‰',e:'Whale'},{i:'ğŸ›',j:'ã‚ãŠã‚€ã—',e:'Caterpillar'},{i:'ğŸš',j:'ã¾ããŒã„',e:'Shell'}
    ];

    let currentAnimal = null;
    let isAnswering = false;

    function startGame() {
        document.getElementById('startScreen').style.display = 'none';
        document.getElementById('gameScreen').style.display = 'flex';
        nextQuestion();
    }

    function stopGame() {
        window.speechSynthesis.cancel();
        document.getElementById('startScreen').style.display = 'block';
        document.getElementById('gameScreen').style.display = 'none';
    }

    function nextQuestion() {
        isAnswering = false;
        document.getElementById('resultText').innerHTML = '';
        const iconEl = document.getElementById('mainIcon');
        iconEl.classList.remove('revealed');

        currentAnimal = masterList[Math.floor(Math.random() * masterList.length)];
        iconEl.innerText = currentAnimal.i;

        let choices = [currentAnimal];
        while (choices.length < 4) {
            let randomA = masterList[Math.floor(Math.random() * masterList.length)];
            if (!choices.find(c => c.j === randomA.j)) choices.push(randomA);
        }
        choices.sort(() => 0.5 - Math.random());

        const grid = document.getElementById('choicesGrid');
        grid.innerHTML = '';
        choices.forEach(c => {
            const btn = document.createElement('button');
            btn.className = 'choice-btn';
            btn.innerText = c.j;
            btn.onclick = () => checkAnswer(c, btn);
            grid.appendChild(btn);
        });
    }

    function checkAnswer(selected, btn) {
        if (isAnswering) return;
        isAnswering = true;

        window.speechSynthesis.cancel();

        if (selected.j === currentAnimal.j) {
            btn.classList.add('correct');
            document.getElementById('mainIcon').classList.add('revealed');
            document.getElementById('resultText').innerHTML = "â­•ï¸ ã›ã„ã‹ã„ï¼<br><small>That's Right!</small>";
            
            const uttrJa = new SpeechSynthesisUtterance("ã›ã„ã‹ã„ï¼" + currentAnimal.j);
            uttrJa.lang = 'ja-JP';
            const uttrEn = new SpeechSynthesisUtterance("Great! " + currentAnimal.e);
            uttrEn.lang = 'en-US';
            
            uttrJa.onend = () => { window.speechSynthesis.speak(uttrEn); };
            window.speechSynthesis.speak(uttrJa);

            setTimeout(nextQuestion, 3000);
        } else {
            btn.classList.add('wrong');
            document.getElementById('resultText').innerHTML = "âŒ ã–ã‚“ã­ã‚“ï¼<br><small>Try Again!</small>";
            
            const uttrNoJa = new SpeechSynthesisUtterance("ã–ã‚“ã­ã‚“");
            uttrNoJa.lang = 'ja-JP';
            const uttrNoEn = new SpeechSynthesisUtterance("Try again");
            uttrNoEn.lang = 'en-US';
            
            uttrNoJa.onend = () => { window.speechSynthesis.speak(uttrNoEn); };
            window.speechSynthesis.speak(uttrNoJa);

            setTimeout(() => {
                isAnswering = false;
                document.getElementById('resultText').innerHTML = '';
                btn.classList.remove('wrong');
            }, 1500);
        }
    }
</script>
</body>
</html>
