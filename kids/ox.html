<!DOCTYPE html>
<html lang="ja">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1V1ELMWFTY"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-1V1ELMWFTY');
    </script>

    <meta name="ad-mode" content="kids">
    <script src="/js/ads.js" defer></script>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <title>Tic-Tac-Toe Kids / ä¸‰ç›®ä¸¦ã¹ - 3ã€œ5æ­³å‘ã‘ç„¡æ–™çŸ¥è‚²ã‚²ãƒ¼ãƒ </title>
    <meta name="description" content="[JP] 3ã€œ5æ­³å‘ã‘ï¼CPUã¨å¯¾æˆ¦ã§ãã‚‹ç„¡æ–™ã®ä¸‰ç›®ä¸¦ã¹ï¼ˆã¾ã‚‹ã°ã¤ï¼‰ã‚²ãƒ¼ãƒ ã€‚æ€è€ƒåŠ›ã¨é›†ä¸­åŠ›ã‚’è‚²ã‚€çŸ¥è‚²ã‚¢ãƒ—ãƒªã§ã™ã€‚[EN] Free Tic-Tac-Toe game for kids aged 3-5. Play against a smart CPU. Developed to enhance thinking and concentration skills.">
    <meta name="keywords" content="çŸ¥è‚²ã‚²ãƒ¼ãƒ ,ç„¡æ–™,å­ä¾›å‘ã‘,ä¸‰ç›®ä¸¦ã¹,ã¾ã‚‹ã°ã¤,Tic Tac Toe,Educational Games,Kids Games">
    <meta name="author" content="kunifami" >
    <meta name="robots" content="index, follow">

    <meta property="og:title" content="Tic-Tac-Toe Kids / ä¸‰ç›®ä¸¦ã¹ - é›†ä¸­ãƒã‚¹ã‚¿ãƒ¼ Kids">
    <meta property="og:description" content="ãŸã¦ãƒ»ã‚ˆã“ãƒ»ãªãªã‚ã«3ã¤ãªã‚‰ã¹ã‚ˆã†ï¼æœ€å¼·CPUã«å‹ã‘ã‚‹ã‹ãªï¼Ÿ">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://kunifami-soft-studio.com/kids/tic_tac_toe.html">
    <meta name="twitter:card" content="summary">
    
    <style>
        :root {
            --bg: #eef9ff; 
            --card: #ffffff;
            --accent: #ffcc00; 
            --text: #555555;
            --o-color: #ff85a1; 
            --x-color: #4dabf7; 
            --shadow: 0 8px 20px rgba(0,0,0,0.05);
        }
        body {
            font-family: "Hiragino Sans", "Meiryo", sans-serif;
            background: var(--bg);
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            min-height: 100vh; margin: 0; color: var(--text);
        }
        .container {
            background: var(--card); padding: 30px; border-radius: 40px;
            box-shadow: var(--shadow); text-align: center;
            width: 90%; max-width: 420px;
            border: 6px solid #fff;
        }

        #gameScreen { display: none; }

        h1 { font-size: 1.8rem; color: #4dabf7; margin-bottom: 20px; }

        .manual-section {
            background: #fff9db; padding: 20px; border-radius: 25px;
            text-align: left; font-size: 0.9rem; margin-bottom: 20px; color: #666;
            border: 2px dashed #ffe066;
        }
        .manual-section h2 { font-size: 1.1rem; margin-top: 0; color: #f59f00; display: flex; align-items: center; gap: 5px; }
        .manual-item { margin-bottom: 12px; line-height: 1.4; }

        /* --- ã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ã‚ªãƒ³ãƒ»ã‚¬ã‚¤ãƒ‰è¨­å®š --- */
        .usage-guide {
            margin-top: 15px; font-size: 0.8rem; color: #666; text-align: left;
            background: #fff3e0; padding: 12px; border-radius: 15px;
        }
        .usage-guide p { margin: 0 0 8px 0; font-weight: bold; border-bottom: 1px solid #ffcc80; padding-bottom: 3px; }
        .usage-guide ul { margin: 0; padding-left: 1.2rem; line-height: 1.5; }
        .usage-guide li { margin-bottom: 5px; }
        .lang-en { display: block; font-size: 0.75rem; color: #888; margin-top: 2px; }

        .guide-container { margin-top: 20px; text-align: left; border-top: 1px solid #eee; padding-top: 15px; }
        details { margin-bottom: 10px; background: #f9f9f9; border-radius: 10px; overflow: hidden; }
        summary {
            padding: 12px; font-weight: bold; cursor: pointer; color: #555;
            list-style: none; display: flex; justify-content: space-between; align-items: center;
            font-size: 0.85rem;
        }
        summary::after { content: 'â–¼'; font-size: 0.7rem; color: #aaa; }
        details[open] summary::after { content: 'â–²'; }
        .guide-content { padding: 15px; font-size: 0.85rem; color: #444; line-height: 1.6; border-top: 1px solid #eee; }
        .guide-content p { margin: 0 0 10px 0; }
        .hr-dashed { border: 0; border-top: 1px dashed #ddd; margin: 10px 0; }

        .home-link { display: inline-block; margin-top: 20px; color: #adb5bd; text-decoration: none; font-size: 0.9rem; }
        .home-link:hover { color: var(--x-color); }

        .controls { margin-bottom: 15px; display: flex; flex-direction: column; gap: 10px; }
        .setting-row { display: flex; align-items: center; justify-content: space-between; font-size: 0.9rem; padding: 4px 0; }
        select { 
            padding: 8px 12px; border-radius: 12px; border: 2px solid #eee; 
            background: #fff; cursor: pointer; font-size: 0.9rem; color: #666;
            outline: none;
        }
        .status { 
            margin: 15px 0; font-size: 1.3rem; font-weight: bold; 
            color: #ff922b; min-height: 1.6em;
            text-shadow: 1px 1px 0 #fff;
        }
        .board { 
            display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; 
            background: #f1f3f5; padding: 12px; border-radius: 25px; aspect-ratio: 1 / 1; 
        }
        .cell { 
            background: var(--card); border-radius: 18px; display: flex; 
            align-items: center; justify-content: center; font-size: 3rem; 
            font-weight: 900; cursor: pointer; transition: all 0.2s;
            box-shadow: 0 4px 0 #e9ecef;
        }
        .cell:active { transform: translateY(2px); box-shadow: none; }
        .cell.o { color: var(--o-color); }
        .cell.x { color: var(--x-color); }

        .btn-main {
            width: 100%; padding: 18px; background: var(--accent);
            color: #856404; border: none; border-radius: 25px; font-weight: 800;
            font-size: 1.1rem; cursor: pointer; transition: all 0.2s; margin-top: 10px;
            box-shadow: 0 6px 0 #fcc419;
        }
        .btn-main:active { transform: translateY(3px); box-shadow: 0 2px 0 #fcc419; }
        
        .btn-secondary {
            width: 100%; padding: 12px; background: #e9ecef;
            color: #868e96; border: none; border-radius: 20px; font-weight: 600;
            cursor: pointer; margin-top: 15px; font-size: 0.85rem;
        }
        .btn-secondary:hover { background: #dee2e6; }

        .footer-links { margin-top: 20px; }
        .footer-links a { color: #adb5bd; text-decoration: none; font-size: 0.7rem; margin: 0 10px; }
        .footer-links a:hover { text-decoration: underline; }
        .footer-copyright {
            margin-top: 10px; font-size: 0.7rem; color: #ccc;
            text-align: center; font-family: sans-serif;
        }
    </style>
</head>
<body>

<div class="container">
    <div id="startScreen">
        <h1>â­•ï¸ Tic-Tac-Toe âŒ</h1>
        
        <div class="manual-section">
            <h2>ğŸ® How to Play / éŠã³æ–¹</h2>
            <div class="manual-item">
                ğŸŒŸ <strong>3 in a row!</strong><br>
                ãŸã¦ãƒ»ã‚ˆã“ãƒ»ãªãªã‚ã«3ã¤ãªã‚‰ã¹ã‚ˆã†ï¼
            </div>
            <div class="manual-item">
                ğŸ¤– <strong>Play with CPU!</strong><br>
                ã•ã„ãã‚‡ã†CPUã¨å‹è² ï¼ˆã—ã‚‡ã†ã¶ï¼‰ã ï¼
            </div>
        </div>

        <button class="btn-main" onclick="startGame()">Start! / ã‚¹ã‚¿ãƒ¼ãƒˆï¼</button>
        
        <div class="usage-guide">
            <p>ã€ã”åˆ©ç”¨ã‚¬ã‚¤ãƒ‰ / Usage Guideã€‘</p>
            <ul>
                <li><strong>ãŠå­æ§˜ã«ï¼š</strong>ã€Œç›¸æ‰‹ã®å‹•ãã‚’äºˆæ¸¬ã™ã‚‹ã€ã“ã¨ã§ã€è«–ç†çš„æ€è€ƒåŠ›ã¨å•é¡Œè§£æ±ºã®åŸºç¤ã‚’é¤Šã„ã¾ã™ã€‚<span class="lang-en">(Develops logical thinking and problem-solving basics by predicting opponent moves.)</span></li>
                <li><strong>ã‚·ãƒ‹ã‚¢ã®æ–¹ã«ï¼š</strong>å…ˆã‚’èª­ã‚€ã€Œãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ãƒ¡ãƒ¢ãƒªã€ã¨ã€Œæˆ¦ç•¥çš„åˆ¤æ–­ã€ãŒå‰é ­å‰é‡ã‚’å¼·åŠ›ã«åˆºæ¿€ã—ã¾ã™ã€‚<span class="lang-en">(Stimulates the prefrontal cortex through strategic planning and working memory.)</span></li>
                <li><strong>æ•™è‚²é–¢ä¿‚è€…ã®çš†æ§˜ã¸ï¼š</strong>ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«åŸºã¥ãæœ€å¼·CPUã¨ã®å¯¾æˆ¦ã‚’é€šã˜ã€æ•°ç†çš„æ€è€ƒã®å°å…¥ã«ã”æ´»ç”¨ãã ã•ã„ã€‚<span class="lang-en">(Ideal for introducing mathematical thinking through AI-driven gameplay.)</span></li>
            </ul>
        </div>

        <div class="guide-container">
            <details>
                <summary>ã€ä¿è­·è€…å‘ã‘ï¼šçŸ¥è‚²ã®ç›®çš„ã€‘ / For Parents</summary>
                <div class="guide-content">
                    <p><strong>Educational Goal ï¼ˆçŸ¥è‚²ã®ç›®çš„ï¼‰</strong></p>
                    <p>ã“ã®ã€Œä¸‰ç›®ä¸¦ã¹ã€ã¯ã€å¹¼å…æœŸã®èªçŸ¥ç™ºé”ã«ãŠã‘ã‚‹ã€Œæˆ¦ç•¥çš„æ€è€ƒã€ã¨ã€Œè¦–è¦šçš„è­˜åˆ¥ã®çµ±åˆã€ã‚’ç›®çš„ã¨ã—ã¦è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚
                    
                    ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¯ã€è‡ªèº«ã®å‹åˆ©æ¡ä»¶ï¼ˆ3ã¤ä¸¦ã¹ã‚‹ï¼‰ã‚’ç›®æŒ‡ã—ãªãŒã‚‰ã€åŒæ™‚ã«ç›¸æ‰‹ï¼ˆCPUï¼‰ã®å‹åˆ©ã‚’é˜»æ­¢ã™ã‚‹ã¨ã„ã†äºŒé‡ã®è«–ç†ãƒ—ãƒ­ã‚»ã‚¹ã‚’è¦æ±‚ã•ã‚Œã¾ã™ã€‚ã“ã‚Œã¯èªçŸ¥ç§‘å­¦ã«ãŠã‘ã‚‹ã€ŒæŠ‘åˆ¶åˆ¶å¾¡ã€ã¨ã€Œä½œæ¥­è¨˜æ†¶ã€ã‚’åŒæ™‚ã«é›ãˆã‚‹é«˜åº¦ãªçŸ¥çš„æ´»å‹•ã§ã™ã€‚
                    ç‰¹ã«ã€æœ¬ã‚¢ãƒ—ãƒªã«æ­è¼‰ã•ã‚ŒãŸMinimaxã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«ã‚ˆã‚‹ã€Œæœ€å¼·ãƒ¬ãƒ™ãƒ«ã€ã«æŒ‘æˆ¦ã™ã‚‹ã“ã¨ã¯ã€ãƒ‘ã‚¿ãƒ¼ãƒ³èªè­˜ã‚’æ·±ã‚ã€çµæœã‚’äºˆæ¸¬ã™ã‚‹æ•°ç†çš„æ€è€ƒã®åœŸå°ã‚’ç¯‰ãã¾ã™ã€‚éŠã³ã‚’é€šã˜ã¦ã€ã€Œä»®èª¬ã‚’ç«‹ã¦ã€å®Ÿè¡Œã—ã€çµæœã‚’åˆ†æã™ã‚‹ã€ã¨ã„ã†ç§‘å­¦çš„æ¢ç©¶å¿ƒã®åŸºç¤ã‚’è‚²ã¿ã¾ã™ã€‚</p>
                    <hr class="hr-dashed">
                    <p>This "Tic-Tac-Toe" is engineered to foster "Strategic Thinking" and "Visual-Motor Integration" in early childhood. Players must navigate a dual logical process: pursuing their own victory while simultaneously blocking the opponent. This activity exercises "Inhibitory Control" and "Working Memory." Challenging the AI's "Hard" mode refines pattern recognition and builds a foundation for mathematical predictionâ€”essential steps in developing a scientific mindset of hypothesis testing and analysis.</p>
                </div>
            </details>
            <details>
                <summary>ã€ã‚·ãƒ‹ã‚¢å‘ã‘ï¼šã‚¢ãƒ—ãƒªã®ç›®çš„ã€‘ / For Seniors</summary>
                <div class="guide-content">
                    <p><strong>App Goal ï¼ˆã‚¢ãƒ—ãƒªã®ç›®çš„ï¼‰</strong></p>
                    <p>æœ¬ã‚¢ãƒ—ãƒªã¯ã€ã‚·ãƒ‹ã‚¢ä¸–ä»£ã®èªçŸ¥æ©Ÿèƒ½ç¶­æŒã‚’ç›®çš„ã¨ã—ãŸã€Œãƒ‡ã‚¸ã‚¿ãƒ«è„³æ´»æ€§åŒ–ãƒ„ãƒ¼ãƒ«ã€ã§ã™ã€‚
                    
                    ä¸‰ç›®ä¸¦ã¹ã¨ã„ã†é¦´æŸ“ã¿æ·±ã„ãƒ«ãƒ¼ãƒ«ã§ã‚ã‚ŠãªãŒã‚‰ã€å…ˆã®å…ˆã‚’èª­ã‚€ã€Œå…ˆèª­ã¿ã€ã®ãƒ—ãƒ­ã‚»ã‚¹ã¯ã€åŠ é½¢ã«ä¼´ã„ä½ä¸‹ã—ã‚„ã™ã„å‰é ­å‰é‡ã®ã€Œå®Ÿè¡Œæ©Ÿèƒ½ã€ã‚’åˆºæ¿€ã™ã‚‹ã®ã«éå¸¸ã«æœ‰åŠ¹ã§ã™ã€‚
                    æœ€å¼·ã®CPUç›¸æ‰‹ã«ã€Œè² ã‘ãªã„æˆ¦ç•¥ã€ã‚’ç·´ã‚‹ã“ã¨ã¯ã€æƒ…å ±ã®ä¿æŒã¨æ“ä½œã‚’å¸ã‚‹ãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ãƒ¡ãƒ¢ãƒªã®ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã«ç¹‹ãŒã‚Šã¾ã™ã€‚æŒ‡å…ˆã‚’æ­£ç¢ºã«å‹•ã‹ã—ã¦ã‚¿ãƒƒãƒ—ã™ã‚‹ã€Œå·§ç·»æ€§ã€ã®ç¶­æŒã¨åˆã‚ã›ã€çŸ­æ™‚é–“ã§é«˜ã„é”æˆæ„Ÿã‚’å¾—ã‚‰ã‚Œã‚‹è¨­è¨ˆã¨ãªã£ã¦ãŠã‚Šã€æ—¥ã€…ã®è„³ãƒˆãƒ¬ç¿’æ…£ã‚’æ¥½ã—ãç¶™ç¶šã—ã€èªçŸ¥æ©Ÿèƒ½ã®è‹¥ã€…ã—ã•ã‚’ä¿ã¤ã®ã«å½¹ç«‹ã¡ã¾ã™ã€‚</p>
                    <hr class="hr-dashed">
                    <p>This application serves as a "Digital Brain Activation Tool" for maintaining cognitive function in seniors. While based on the familiar rules of Tic-Tac-Toe, the "look-ahead" process required to beat or draw with a smart CPU stimulates executive functions in the prefrontal cortex. Strategizing against an optimized algorithm improves working memory capacity. Combined with fine motor skill exercise via tapping, the game provides high levels of accomplishment in short sessions, making it a perfect habit for preserving mental agility.</p>
                </div>
            </details>
        </div>

        <a href="./menu.html" class="home-link">â† Back / ã‚‚ã©ã‚‹</a>

        <div class="footer-links">
            <a href="privacy.html">Privacy Policy / è¦ç´„</a>
            <a href="contact.html">Contact / ãŠå•ã„åˆã‚ã›</a>
        </div>
        <div class="footer-copyright">
            Â© 2026 KuniFami Soft Studio. All Rights Reserved.
        </div>
    </div>

    <div id="gameScreen">
        <div class="controls">
            <div class="setting-row">
                <span>Mode / ãƒ¢ãƒ¼ãƒ‰:</span>
                <select id="gameMode" onchange="toggleModeSettings()">
                    <option value="pvc">1 Player / ã²ã¨ã‚Šã§</option>
                    <option value="pvp">2 Players / ãµãŸã‚Šã§</option>
                </select>
            </div>
            <div id="pvcSettings">
                <div class="setting-row">
                    <span>Level / ã¤ã‚ˆã•:</span>
                    <select id="difficulty" onchange="resetGame()">
                        <option value="easy">Easy / ã‚„ã•ã—ã„</option>
                        <option value="medium">Medium / ãµã¤ã†</option>
                        <option value="hard" selected>Hard / ã‚€ãšã‹ã—ã„</option>
                    </select>
                </div>
                <div class="setting-row">
                    <span>Turn / ã˜ã‚…ã‚“ã°ã‚“:</span>
                    <select id="turnOrder" onchange="resetGame()">
                        <option value="first">1st (O) / ã•ãã«</option>
                        <option value="second">2nd (O) / ã‚ã¨ã«</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="status" id="status">Ready</div>

        <div class="board" id="board">
            <div class="cell" onclick="handleMove(0)"></div>
            <div class="cell" onclick="handleMove(1)"></div>
            <div class="cell" onclick="handleMove(2)"></div>
            <div class="cell" onclick="handleMove(3)"></div>
            <div class="cell" onclick="handleMove(4)"></div>
            <div class="cell" onclick="handleMove(5)"></div>
            <div class="cell" onclick="handleMove(6)"></div>
            <div class="cell" onclick="handleMove(7)"></div>
            <div class="cell" onclick="handleMove(8)"></div>
        </div>

        <button class="btn-main" style="margin-top:25px;" onclick="resetGame()">Try Again / ã‚‚ã†ã„ã£ã‹ã„</button>
        <button class="btn-secondary" onclick="showTitle()">Title / ã‚¿ã‚¤ãƒˆãƒ«ã«ã‚‚ã©ã‚‹</button>

        <div class="footer-copyright">
            Â© 2026 KuniFami Soft Studio
        </div>
    </div>
</div>

<script>
    let board = ["", "", "", "", "", "", "", "", ""];
    let isGameActive = true;
    let currentPlayer = "O"; 
    const huPlayer = "O";
    const aiPlayer = "X";
    const statusDisplay = document.getElementById('status');
    const cells = document.querySelectorAll('.cell');

    function logEvent(name, params) {
        if(typeof gtag === 'function') { gtag('event', name, params); }
    }

    function startGame() {
        document.getElementById('startScreen').style.display = 'none';
        document.getElementById('gameScreen').style.display = 'block';
        logEvent('game_start', { 'mode': document.getElementById('gameMode').value });
        resetGame();
    }

    function showTitle() {
        document.getElementById('startScreen').style.display = 'block';
        document.getElementById('gameScreen').style.display = 'none';
        logEvent('back_to_title');
    }

    function toggleModeSettings() {
        const mode = document.getElementById('gameMode').value;
        document.getElementById('pvcSettings').style.display = (mode === 'pvc') ? 'block' : 'none';
        resetGame();
    }

    function resetGame() {
        board = ["", "", "", "", "", "", "", "", ""];
        isGameActive = true;
        currentPlayer = "O";
        cells.forEach(cell => {
            cell.innerText = "";
            cell.classList.remove('taken', 'o', 'x');
        });

        const mode = document.getElementById('gameMode').value;
        if (mode === "pvc") {
            const turnOrder = document.getElementById('turnOrder').value;
            if (turnOrder === "first") {
                updateStatus("Your Turn! / ãã¿ã®ã°ã‚“");
            } else {
                updateStatus("CPU Thinking... / ã‹ã‚“ãŒãˆã¡ã‚…ã†");
                setTimeout(bestMove, 600);
            }
        } else {
            updateStatus("Player O's Turn / Oã®ã°ã‚“");
        }
    }

    function updateStatus(msg) { statusDisplay.innerText = msg; }

    function handleMove(index) {
        if (board[index] === "" && isGameActive) {
            const mode = document.getElementById('gameMode').value;
            if (mode === "pvc") {
                makeMove(index, huPlayer);
                if (isGameActive && !isBoardFull()) {
                    updateStatus("CPU Thinking... / ã‹ã‚“ãŒãˆã¡ã‚…ã†");
                    setTimeout(bestMove, 600);
                }
            } else {
                makeMove(index, currentPlayer);
                if (isGameActive && !isBoardFull()) {
                    currentPlayer = (currentPlayer === "O") ? "X" : "O";
                    updateStatus(currentPlayer === "O" ? "O's Turn / Oã®ã°ã‚“" : "X's Turn / Xã®ã°ã‚“");
                }
            }
        }
    }

    function makeMove(index, player) {
        board[index] = player;
        cells[index].innerText = player;
        cells[index].classList.add('taken', player.toLowerCase());
        if (checkWin(board, player)) {
            const mode = document.getElementById('gameMode').value;
            if (mode === "pvc") {
                updateStatus(player === huPlayer ? "You Win! / ãã¿ã®å‹ã¡ï¼" : "CPU Wins! / CPUã®å‹ã¡ï¼");
            } else {
                updateStatus(`Player ${player} Wins! / ${player}ã®å‹ã¡ï¼`);
            }
            isGameActive = false;
            logEvent('game_end', { 'winner': player, 'mode': mode });
        } else if (isBoardFull()) {
            updateStatus("Draw! / ã²ãã‚ã‘ï¼");
            isGameActive = false;
            logEvent('game_end', { 'winner': 'draw', 'mode': document.getElementById('gameMode').value });
        }
    }

    function isBoardFull() { return !board.includes(""); }

    function bestMove() {
        if (!isGameActive) return;
        const difficulty = document.getElementById('difficulty').value;
        let move;
        if (difficulty === "easy") {
            let available = board.map((v, i) => v === "" ? i : null).filter(v => v !== null);
            move = available[Math.floor(Math.random() * available.length)];
        } else if (difficulty === "medium") {
            move = (Math.random() < 0.6) ? minimax(board, aiPlayer).index : board.map((v, i) => v === "" ? i : null).filter(v => v !== null)[0];
        } else {
            move = minimax(board, aiPlayer).index;
        }
        makeMove(move, aiPlayer);
        if (isGameActive) updateStatus("Your Turn! / ãã¿ã®ã°ã‚“");
    }

    function minimax(newBoard, player) {
        let availSpots = newBoard.map((v, i) => v === "" ? i : null).filter(v => v !== null);
        if (checkWin(newBoard, huPlayer)) return {score: -10};
        if (checkWin(newBoard, aiPlayer)) return {score: 10};
        if (availSpots.length === 0) return {score: 0};
        let moves = [];
        for (let i = 0; i < availSpots.length; i++) {
            let move = {index: availSpots[i]};
            newBoard[availSpots[i]] = player;
            move.score = (player === aiPlayer) ? minimax(newBoard, huPlayer).score : minimax(newBoard, aiPlayer).score;
            newBoard[availSpots[i]] = "";
            moves.push(move);
        }
        let bestMove, bestScore = (player === aiPlayer) ? -Infinity : Infinity;
        for (let i = 0; i < moves.length; i++) {
            if ((player === aiPlayer && moves[i].score > bestScore) || (player === huPlayer && moves[i].score < bestScore)) {
                bestScore = moves[i].score;
                bestMove = i;
            }
        }
        return moves[bestMove];
    }

    function checkWin(b, p) {
        const winConditions = [[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
        return winConditions.some(c => c.every(i => b[i] === p));
    }
</script>

</body>
</html>