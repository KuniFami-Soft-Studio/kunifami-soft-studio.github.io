<!DOCTYPE html>
<html lang="ja">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1V1ELMWFTY"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-1V1ELMWFTY');
    </script>

    <meta name="ad-mode" content="kids">
    <script src="/js/ads.js" defer></script>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <title>Fruit Tap Battle / ã‚­ãƒ©ã‚­ãƒ©ãƒ•ãƒ«ãƒ¼ãƒ„äº‰å¥ªæˆ¦ - 3ã€œ5æ­³å‘ã‘ç„¡æ–™çŸ¥è‚²ã‚²ãƒ¼ãƒ </title>
    <meta name="description" content="[JP] 3ã€œ5æ­³å‘ã‘ï¼æµã‚Œã¦ãã‚‹ãƒ•ãƒ«ãƒ¼ãƒ„ã‚’ã‚¿ãƒƒãƒ—ã—ã¦é›†ã‚ã‚‹ç„¡æ–™çŸ¥è‚²ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚²ãƒ¼ãƒ ã€‚æœ€å¤§3äººã§å¯¾æˆ¦ãƒ—ãƒ¬ã‚¤ãŒå¯èƒ½ã§ã™ã€‚[EN] Free Fruit Tap Battle for kids aged 3-5. Tap the falling fruits to score. Support for up to 3 players. Develops concentration and reflexes.">
    <meta name="keywords" content="çŸ¥è‚²ã‚²ãƒ¼ãƒ ,å­ä¾›å‘ã‘,ç„¡æ–™,ãƒ•ãƒ«ãƒ¼ãƒ„äº‰å¥ªæˆ¦,å¯¾æˆ¦ã‚²ãƒ¼ãƒ ,3æ­³,4æ­³,5æ­³,æš‡ã¤ã¶ã—,Fruit Tap Battle,Educational Games">
    <meta name="author" content="kunifami" >
    <meta name="robots" content="index, follow">

    <meta property="og:title" content="Fruit Tap Battle / ã‚­ãƒ©ã‚­ãƒ©ãƒ•ãƒ«ãƒ¼ãƒ„äº‰å¥ªæˆ¦ - é›†ä¸­ãƒã‚¹ã‚¿ãƒ¼ Kids">
    <meta property="og:description" content="ã‚­ãƒ©ã‚­ãƒ©æµã‚Œã‚‹ãƒ•ãƒ«ãƒ¼ãƒ„ã‚’ ã‚¿ãƒƒãƒã—ã¦ ã‚ã¤ã‚ã‚ˆã†ï¼æœ€å¤§3äººã§ ã‚ãã¹ã‚‹ã‚ˆã€‚">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://kunifami-soft-studio.com/kids/fruit_battle.html">
    <meta name="twitter:card" content="summary">
    
    <style>
        :root {
            --bg: #fff5f8;
            --card: #ffffff;
            --accent: #ffcc00; 
            --p1-color: #ff5252;
            --p2-color: #448aff;
            --p3-color: #ffd740;
            --shadow: 0 8px 20px rgba(0,0,0,0.05);
        }
        body {
            font-family: "Hiragino Sans", "Meiryo", sans-serif;
            background: var(--bg);
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            min-height: 100vh; margin: 0; overflow-y: auto; touch-action: none;
        }
        .container {
            background: var(--card); padding: 25px; border-radius: 40px;
            box-shadow: var(--shadow); text-align: center; width: 90%; max-width: 450px;
            border: 6px solid #fff; position: relative; z-index: 10; margin: 20px 0;
        }

        #gameScreen { display: none; position: fixed; inset: 0; background: #000; z-index: 100; }

        h1 { font-size: 1.5rem; color: #ff5252; margin: 0; }
        .sub-title { font-size: 0.9rem; color: #999; margin-bottom: 15px; }

        .mode-select { margin-bottom: 20px; display: flex; justify(content): center; gap: 10px; }
        .mode-btn {
            padding: 10px 15px; border-radius: 15px; border: 2px solid #eee;
            background: #f8f9fa; cursor: pointer; font-weight: bold; font-size: 0.9rem;
        }
        .mode-btn.active { background: var(--accent); border-color: #fcc419; color: #856404; }

        .manual-section {
            background: #fff9db; padding: 15px; border-radius: 20px;
            text-align: left; font-size: 0.85rem; margin-bottom: 15px; border: 2px dashed #ffe066;
        }
        .manual-item { margin-bottom: 8px; display: flex; align-items: center; gap: 8px; }

        .ad-container { width: 100%; min-height: 100px; margin: 10px 0; display: flex; align-items: center; justify-content: center; border-radius: 20px; overflow: hidden; }

        .game-ui { position: absolute; bottom: 30px; width: 100%; display: flex; justify-content: center; gap: 15px; pointer-events: none; }
        .score-box { padding: 10px 15px; border-radius: 15px; font-weight: 900; font-size: 1.2rem; background: rgba(255,255,255,0.9); box-shadow: 0 4px 10px rgba(0,0,0,0.3); display: none; }
        
        #winOverlay {
            position: fixed; inset: 0; background: rgba(255,204,0,0.9);
            display: none; flex-direction: column; align-items: center; justify-content: center;
            z-index: 200; color: #856404; font-weight: 900; text-align: center;
        }

        .btn-main { width: 100%; padding: 18px; background: var(--accent); color: #856404; border: none; border-radius: 25px; font-weight: 800; font-size: 1.2rem; cursor: pointer; box-shadow: 0 6px 0 #fcc419; }
        .btn-main:active { transform: translateY(3px); box-shadow: 0 2px 0 #fcc419; }
        .btn-exit { position: absolute; top: 20px; right: 20px; padding: 10px 15px; background: rgba(255,255,255,0.2); color: white; border: 2px solid white; border-radius: 12px; cursor: pointer; z-index: 150; }

        /* --- ã‚¢ã‚³ãƒ¼ãƒ‡ã‚£ã‚ªãƒ³ãƒ»ã‚¬ã‚¤ãƒ‰è¨­å®š --- */
        .usage-guide {
            margin-top: 15px; font-size: 0.8rem; color: #666; text-align: left;
            background: #fff3e0; padding: 12px; border-radius: 15px;
        }
        .usage-guide p { margin: 0 0 8px 0; font-weight: bold; border-bottom: 1px solid #ffcc80; padding-bottom: 3px; }
        .usage-guide ul { margin: 0; padding-left: 1.2rem; line-height: 1.5; }
        .usage-guide li { margin-bottom: 5px; }
        .lang-en { display: block; font-size: 0.75rem; color: #888; margin-top: 2px; }

        .guide-container { margin-top: 20px; text-align: left; border-top: 1px solid #eee; padding-top: 15px; width: 100%; }
        details { margin-bottom: 10px; background: #f9f9f9; border-radius: 10px; overflow: hidden; border: 1px solid #eee; }
        summary {
            padding: 12px; font-weight: bold; cursor: pointer; color: #555;
            list-style: none; display: flex; justify-content: space-between; align-items: center;
            font-size: 0.85rem;
        }
        summary::after { content: 'â–¼'; font-size: 0.7rem; color: #aaa; }
        details[open] summary::after { content: 'â–²'; }
        .guide-content { padding: 15px; font-size: 0.85rem; color: #444; line-height: 1.6; border-top: 1px solid #eee; }
        .guide-content p { margin: 0 0 10px 0; }
        .hr-dashed { border: 0; border-top: 1px dashed #ddd; margin: 10px 0; }

        /* Reliability & AdSense Compliance */
        .footer-links { margin: 15px 0; }
        .footer-links a { color: #888; text-decoration: none; font-size: 0.7rem; margin: 0 10px; }
        .footer-links a:hover { text-decoration: underline; }
        .footer-copyright {
            margin-top: 5px; font-size: 0.7rem; color: #ccc;
            text-align: center; font-family: sans-serif; font-weight: bold;
        }
    </style>
</head>
<body>

<div class="container" id="startScreen">
    <h1>ã‚­ãƒ©ã‚­ãƒ©ãƒ•ãƒ«ãƒ¼ãƒ„äº‰å¥ªæˆ¦</h1>
    <div class="sub-title">Fruit Tap Battle!</div>

    <div style="font-size: 0.9rem; margin-bottom: 8px; font-weight: bold;">ãªã‚“ã«ã‚“ã§ ã‚ãã¶ï¼Ÿ / Players</div>
    <div class="mode-select">
        <div class="mode-btn" id="m1" onclick="setMode(1)">1ã«ã‚“</div>
        <div class="mode-btn active" id="m2" onclick="setMode(2)">2ã«ã‚“</div>
        <div class="mode-btn" id="m3" onclick="setMode(3)">3ã«ã‚“</div>
    </div>
    
    <div class="manual-section">
        <div class="manual-item" id="guide1">ğŸ <strong>ã‚ã‹</strong> ã‚’ã‚¿ãƒƒãƒï¼(Red)</div>
        <div class="manual-item" id="guide2">ğŸ‡ <strong>ã‚ãŠ</strong> ã‚’ã‚¿ãƒƒãƒï¼(Blue)</div>
        <div class="manual-item" id="guide3">ğŸŒ <strong>ãã„ã‚</strong> ã‚’ã‚¿ãƒƒãƒï¼(Yellow)</div>
    </div>

    <button class="btn-main" onclick="startGame()">Start! / ã‚¹ã‚¿ãƒ¼ãƒˆï¼</button>
    <a href="./menu.html" style="display:block; margin-top:15px; color:#aaa; text-decoration:none; font-size:0.8rem;">â† Back / ã‚‚ã©ã‚‹</a>

    <div class="usage-guide">
        <p>ã€ã”åˆ©ç”¨ã‚¬ã‚¤ãƒ‰ / Usage Guideã€‘</p>
        <ul>
        <li><strong>ãŠå­æ§˜ã«ï¼š</strong>æµã‚Œã‚‹æ¨™çš„ã‚’æ‰ãˆã‚‹ã“ã¨ã§ã€å‹•ä½“è¦–åŠ›ã¨ç¬ç™ºçš„ãªåˆ¤æ–­åŠ›ã‚’æ¥½ã—ãé¤Šã„ã¾ã™ã€‚<span class="lang-en">(Enhances dynamic visual acuity and rapid decision-making by tracking moving targets.)</span></li>
        <li><strong>ã‚·ãƒ‹ã‚¢ã®æ–¹ã«ï¼š</strong>æŒ‡å®šã•ã‚ŒãŸè‰²ã‚’ç¬æ™‚ã«é¸åˆ¥ã™ã‚‹å‹•ä½œãŒã€é¸æŠçš„æ³¨æ„ã¨è„³ã®æ´»æ€§åŒ–ã‚’å¼·åŠ›ã«ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚<span class="lang-en">(Supports selective attention and brain activation through instantaneous color discrimination.)</span></li>
        <li><strong>æ•™è‚²é–¢ä¿‚è€…ã®çš†æ§˜ã¸ï¼š</strong>å¤šäººæ•°åŒæ™‚ãƒ—ãƒ¬ã‚¤ã‚’æ´»ç”¨ã—ãŸã€ç¤¾ä¼šæ€§ã¨å…±åŒä½œæ¥­ã®å°å…¥æ•™æã¨ã—ã¦ã”æ´»ç”¨ãã ã•ã„ã€‚<span class="lang-en">(Ideal as a social learning resource utilizing simultaneous multi-player interaction.)</span></li>
        </ul>
    </div>
    <div class="guide-container">
        <details>
        <summary>ã€ä¿è­·è€…å‘ã‘ï¼šçŸ¥è‚²ã®ç›®çš„ã€‘ / For Parents</summary>
        <div class="guide-content">
        <p><strong>Educational Goal ï¼ˆçŸ¥è‚²ã®ç›®çš„ï¼‰</strong></p>
        <p>æœ¬ã‚¢ãƒ—ãƒªã¯ã€å¹¼å…æœŸã®èªçŸ¥ç™ºé”ã«ãŠã„ã¦é‡è¦ãªã€Œé¸æŠçš„æ³¨æ„ï¼ˆSelective Attentionï¼‰ã€ã¨ã€Œè¦–è¦šé‹å‹•çµ±åˆï¼ˆVisuomotor Integrationï¼‰ã€ã®å‘ä¸Šã‚’ç›®çš„ã¨ã—ã¦è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚
        ç”»é¢ä¸Šã‚’ä¸è¦å‰‡ãªé€Ÿåº¦ã§æµä¸‹ã™ã‚‹å¤šæ§˜ãªãƒ•ãƒ«ãƒ¼ãƒ„ã®ä¸­ã‹ã‚‰ã€è‡ªåˆ†ã«å‰²ã‚Šå½“ã¦ã‚‰ã‚ŒãŸç‰¹å®šã®ã‚¿ãƒ¼ã‚²ãƒƒãƒˆï¼ˆä¾‹ï¼šèµ¤ã®ğŸï¼‰ã®ã¿ã‚’ç¬æ™‚ã«åˆ¤åˆ¥ã—ã€æ­£ç¢ºã«æŒ‡ã‚’å‹•ã‹ã™ãƒ—ãƒ­ã‚»ã‚¹ã¯ã€è„³å†…ã§ã®æƒ…å ±ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°èƒ½åŠ›ã‚’å¼·åŠ›ã«é›ãˆã¾ã™ã€‚
        
        ã¾ãŸã€æœ€å¤§3äººã¾ã§ã®åŒæ™‚ãƒ—ãƒ¬ã‚¤æ©Ÿèƒ½ã¯ã€å˜ãªã‚‹åå°„ç¥çµŒã®è¨“ç·´ã«ç•™ã¾ã‚‰ãšã€ä»–è€…ã®å‹•ãã‚’æ„è­˜ã—ãªãŒã‚‰è‡ªåˆ†ã®ç›®çš„ã‚’æœãŸã™ã¨ã„ã†ã€ç¤¾ä¼šçš„ãªç›¸äº’ä½œç”¨ã‚„æŠ‘åˆ¶æ©Ÿèƒ½ï¼ˆã‚¤ãƒ³ãƒ’ãƒ“ã‚·ãƒ§ãƒ³ï¼‰ã®è‚²æˆã«ã‚‚å¯„ä¸ã—ã¾ã™ã€‚ã€Œ30ç‚¹å…ˆå–ã€ã¨ã„ã†æ˜ç¢ºãªæ•°å€¤ç›®æ¨™ã¯ã€æ•°ç†çš„æ€è€ƒã®åŸºç¤ã¨ãªã‚‹é”æˆæ„Ÿã¨è‡ªå·±è‚¯å®šæ„Ÿã®é†¸æˆã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚</p>
        <hr class="hr-dashed">
        <p>This application is designed to enhance "Selective Attention" and "Visuomotor Integration," which are vital for early cognitive development. The process of identifying a specific target (e.g., a red apple) from a stream of falling fruits and executing a precise motor response trains the brain's information filtering capabilities. Furthermore, the support for up to three players fosters social interaction and inhibitory control as children learn to navigate personal goals within a communal space. The "30-point goal" provides a clear numerical milestone, fostering self-esteem and foundational mathematical achievement.</p>
        </div>
        </details>
        <details>
        <summary>ã€ã‚·ãƒ‹ã‚¢å‘ã‘ï¼šã‚¢ãƒ—ãƒªã®ç›®çš„ã€‘ / For Seniors</summary>
        <div class="guide-content">
        <p><strong>App Goal ï¼ˆã‚¢ãƒ—ãƒªã®ç›®çš„ï¼‰</strong></p>
        <p>æœ¬ã‚¢ãƒ—ãƒªã¯ã€ã‚·ãƒ‹ã‚¢ä¸–ä»£ã®çš†æ§˜ã®ã€ŒèªçŸ¥æ©Ÿèƒ½ã®è‹¥è¿”ã‚Šã€ã¨ã€Œæ‰‹ã¨ç›®ã®å”èª¿æ€§ç¶­æŒã€ã‚’ç›®çš„ã¨ã—ãŸãƒ‡ã‚¸ã‚¿ãƒ«ãƒ»è„³ãƒˆãƒ¬ã¨ã—ã¦æ©Ÿèƒ½ã—ã¾ã™ã€‚
        æµ®éŠã™ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿½ã„ã€ç‰¹å®šã®æ¨™çš„ã®ã¿ã‚’ã‚¿ãƒƒãƒ—ã™ã‚‹å‹•ä½œã¯ã€è„³ã®å‰é ­å‰é‡ã‚’åˆºæ¿€ã—ã€ãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ãƒ¡ãƒ¢ãƒªï¼ˆä½œæ¥­è¨˜æ†¶ï¼‰ã¨æ³¨æ„åŠ›ï¼ˆAttentionï¼‰ã‚’åŒæ™‚ã«é›ãˆã‚‹åŠ¹æœãŒæœŸå¾…ã§ãã¾ã™ã€‚
        
        æŒ‡å…ˆã‚’ç´ æ—©ãå‹•ã‹ã™ã€Œå·§ç·»æ€§ï¼ˆã“ã†ã¡ã›ã„ï¼‰ã€ã®ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã¯ã€è„³ã¸ã®è¡€æµã‚’ä¿ƒé€²ã—ã€åŠ é½¢ã«ä¼´ã†åå¿œé€Ÿåº¦ã®ä½ä¸‹ã‚’äºˆé˜²ã™ã‚‹æ‰‹åŠ©ã‘ã¨ãªã‚Šã¾ã™ã€‚ãƒãƒ«ãƒãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æ©Ÿèƒ½ã‚’ã”å®¶æ—ã‚„ãŠå­«ã•ã‚“ã¨å…±ã«æ¥½ã—ã‚€ã“ã¨ã§ã€ä¸–ä»£é–“äº¤æµã‚’é€šã˜ãŸç²¾ç¥çš„ãªãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ï¼ˆQOLã®å‘ä¸Šï¼‰ã«ã‚‚ç¹‹ãŒã‚Šã€å­¤ç«‹ã®é˜²æ­¢ã¨æƒ…ç·’çš„ãªå……è¶³æ„Ÿã‚’æä¾›ã—ã¾ã™ã€‚ã‚·ãƒ³ãƒ—ãƒ«ãªãŒã‚‰ã‚‚å‹•çš„ãªé›£æ˜“åº¦å¤‰åŒ–ãŒè„³ã«é©åº¦ãªè² è·ã‚’ä¸ãˆã€æ¥½ã—ã¿ãªãŒã‚‰ç¶™ç¶šã§ãã‚‹å¥åº·ç¿’æ…£ã‚’æä¾›ã—ã¾ã™ã€‚</p>
        <hr class="hr-dashed">
        <p>This app serves as a digital brain training tool for seniors aimed at "cognitive rejuvenation" and maintaining "hand-eye coordination." Tracking and tapping specific targets stimulates the prefrontal cortex, exercising working memory and attention. Fine motor fingertip exercises promote cerebral blood flow and help mitigate the decline of reaction speeds associated with aging. Engaging in multiplayer modes with family members encourages intergenerational communication, providing emotional fulfillment and improving Quality of Life (QOL). The dynamic nature of the game provides an optimal cognitive load, making it a sustainable and enjoyable health habit.</p>
        </div>
        </details>
    </div>
    
    <div class="footer-links">
        <a href="privacy.html">Privacy Policy / è¦ç´„</a>
        <a href="contact.html">Contact / ãŠå•ã„åˆã‚ã›</a>
    </div>
    <div class="footer-copyright">
        Â© 2026 KuniFami Soft Studio. All Rights Reserved.
    </div>
</div>

<div id="gameScreen">
    <canvas id="gameCanvas"></canvas>
    <button class="btn-exit" onclick="stopGame()">Quit / ãŠã‚ã‚‹</button>
    <div class="game-ui">
        <div id="sc1" class="score-box" style="color: var(--p1-color);">ğŸ 0</div>
        <div id="sc2" class="score-box" style="color: var(--p2-color);">ğŸ‡ 0</div>
        <div id="sc3" class="score-box" style="color: var(--p3-color);">ğŸŒ 0</div>
    </div>
</div>

<div id="winOverlay">
    <div style="font-size: 4rem;">ğŸ‰</div>
    <div style="font-size: 2rem;" id="winText">ãŠã‚ã§ã¨ã†ï¼</div>
    <div style="font-size: 1.2rem; margin-top: 10px;">CONGRATULATIONS!</div>
    <button class="btn-main" style="width:200px; margin-top:30px;" onclick="stopGame()">OK!</button>
</div>

<script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    let objects = [];
    let scores = [0, 0, 0];
    let playerCount = 2;
    let gameActive = false;
    let animationId;

    function setMode(num) {
        playerCount = num;
        document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
        document.getElementById('m' + num).classList.add('active');
        document.getElementById('guide2').style.opacity = (num >= 2) ? "1" : "0.3";
        document.getElementById('guide3').style.opacity = (num >= 3) ? "1" : "0.3";
    }

    function startGame() {
        document.getElementById('startScreen').style.display = 'none';
        document.getElementById('gameScreen').style.display = 'block';
        document.getElementById('winOverlay').style.display = 'none';
        gameActive = true;
        scores = [0, 0, 0];
        
        for(let i=1; i<=3; i++) {
            document.getElementById('sc'+i).style.display = (i <= playerCount) ? "block" : "none";
        }
        
        updateScoreUI();
        spawn();
        render();
    }

    function stopGame() {
        gameActive = false;
        cancelAnimationFrame(animationId);
        document.getElementById('startScreen').style.display = 'block';
        document.getElementById('gameScreen').style.display = 'none';
        document.getElementById('winOverlay').style.display = 'none';
        objects = [];
    }

    class Fruit {
        constructor() {
            this.type = Math.floor(Math.random() * playerCount);
            this.size = 70 + Math.random() * 40;
            this.x = Math.random() * (canvas.width - this.size);
            this.y = -this.size;
            this.speed = 3 + Math.random() * 4;
            this.emoji = ['ğŸ', 'ğŸ‡', 'ğŸŒ'][this.type];
        }
        draw() {
            ctx.font = `${this.size}px serif`;
            ctx.fillText(this.emoji, this.x, this.y + this.size);
        }
        update() { this.y += this.speed; return this.y < canvas.height + this.size; }
    }

    function spawn() {
        if (!gameActive) return;
        objects.push(new Fruit());
        setTimeout(spawn, 700);
    }

    function render() {
        if (!gameActive) return;
        ctx.fillStyle = '#111';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        objects = objects.filter(obj => { obj.draw(); return obj.update(); });
        animationId = requestAnimationFrame(render);
    }

    function updateScoreUI() {
        for(let i=0; i<playerCount; i++) {
            document.getElementById(`sc${i+1}`).innerText = ['ğŸ','ğŸ‡','ğŸŒ'][i] + " " + scores[i];
            if (scores[i] >= 30) showWin(i);
        }
    }

    function showWin(playerIdx) {
        gameActive = false;
        const names = ["ã‚ã‹ã„ã‚ ã•ã‚“", "ã‚ãŠã„ã‚ ã•ã‚“", "ãã„ã‚ ã•ã‚“"];
        document.getElementById('winText').innerText = names[playerIdx] + " ã®ã‹ã¡ï¼";
        document.getElementById('winOverlay').style.display = 'flex';
    }

    function handleAction(clientX, clientY) {
        if (!gameActive) return;
        for (let i = objects.length - 1; i >= 0; i--) {
            const o = objects[i];
            if (clientX > o.x && clientX < o.x + o.size && clientY > o.y && clientY < o.y + o.size) {
                scores[o.type]++;
                updateScoreUI();
                objects.splice(i, 1);
                break;
            }
        }
    }

    canvas.addEventListener('touchstart', (e) => {
        e.preventDefault();
        [...e.changedTouches].forEach(t => handleAction(t.clientX, t.clientY));
    }, { passive: false });
    canvas.addEventListener('mousedown', (e) => handleAction(e.clientX, e.clientY));

    window.addEventListener('resize', () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight; });
    canvas.width = window.innerWidth; canvas.height = window.innerHeight;
</script>
</body>
</html>